"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["commits","ui_packages_user-selector_index_ts"],{11070:(e,t,n)=>{var r=n(56413),a=n(66144),i=n(74848),s=n(17908),o=n(46636),l=n(12152),d=n(86365),c=n(96540),m=n(38621),u=n(68593);function f(){return(0,i.jsx)("div",{children:(0,i.jsxs)(u.A,{border:!1,spacious:!1,children:[(0,i.jsx)(u.A.Visual,{children:(0,i.jsx)(m.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"})}),(0,i.jsx)(u.A.Heading,{children:"Unable to load page."}),(0,i.jsxs)(u.A.Description,{children:[(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:"The page is unavailable due to a system error."}),(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:" Try reloading the page, or if the problem persists, contact support."}),(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:(0,i.jsx)("a",{href:"https://www.githubstatus.com",children:"GitHub status"})})]})]})})}try{f.displayName||(f.displayName="CommitErrorState")}catch{}function h(e){let t=(0,d.B)(),[n]=(0,c.useState)(t?.repo),[r]=(0,c.useState)(t?.currentUser);return(0,i.jsx)(l.t,{critical:!0,fallback:(0,i.jsx)(f,{}),children:(0,i.jsx)(o.Q,{user:r,children:(0,i.jsx)(s.d,{repository:n,children:e.children})})})}try{h.displayName||(h.displayName="App")}catch{}var p=n(82431),g=n(32239),x=n(80934),y=n(86617),j=n(73974),_=n(4460),v=n(5796),b=n(79317),w=n(47584),N=n(11499),C=n(94232),S=n(87292),k=n(93653),I=n(34164),L=n(18312),T=n(65481),D=n(30729);function E(){return(0,i.jsxs)(T.A,{variant:"warning",className:"mb-4",children:[(0,i.jsx)(D.A,{icon:m.AlertIcon,className:"mr-2"}),(0,i.jsx)("span",{className:"overflow-hidden",children:"This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository."})]})}try{E.displayName||(E.displayName="SpoofedCommitWarningBanner")}catch{}var A=n(75177),R=n(74779);function P({oid:e,repo:t}){return(0,R.N)(e,t.id)?(0,i.jsxs)(T.A,{className:"mb-4",children:[(0,i.jsx)(A.A,{as:"img",src:"/images/modules/commit/flowers@2x.png",alt:"flower",className:"mr-4 mt-1 float-left",sx:{width:"88px",height:"49px"}}),(0,i.jsx)("h2",{children:"Thanks for everything, Jim."}),(0,i.jsx)("p",{children:"We will miss you."})]}):null}try{P.displayName||(P.displayName="WeirichCommitBanner")}catch{}function F({oid:e,repo:t,commitBranchState:n}){return(0,i.jsxs)(i.Fragment,{children:[n.loading||0!==n.branches.length?null:(0,i.jsx)(E,{}),(0,i.jsx)(P,{oid:e,repo:t})]})}try{F.displayName||(F.displayName="CommitBanners")}catch{}var M=n(41658),H=n(46309),B=n(46584),$=n(44968),U=n(32813),O=n(34407),z=n(36065),V=n(55847),W=n(34614),q=n(87330),G=n(47139),Q=n(94977),Y=n(9916),K=n(95017),X=n(55833),J=n(71238),Z=n(67984),ee=n(11977),et=n(37356),en=n(2676);function er({data:e,repo:t,className:n}){return e.loading||0!==e.branches.length?(0,i.jsxs)("div",{className:(0,I.$)(n,"d-flex flex-items-center flex-wrap fgColor-muted gap-1"),children:[(0,i.jsx)(D.A,{className:"mr-1",icon:m.GitBranchIcon}),e.loading?(0,i.jsx)(O.O,{width:"60px",variant:"rounded",height:"22px"}):e.branches.map((n,r)=>(0,i.jsxs)("div",{children:[(0,i.jsx)(ea,{branch:n,repo:t}),r!==e.branches.length-1?(0,i.jsx)("span",{className:"ml-1 user-select-none",children:"+"}):null]},n.branch))]}):null}function ea({branch:e,repo:t}){let n=e.branch;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(en.A,{className:"mx-1",href:(0,v.bSP)({repo:t,head:n}),children:e.branch}),e.prs.length>0?(0,i.jsxs)(i.Fragment,{children:["(",e.prs.map((t,n)=>(0,i.jsxs)(c.Fragment,{children:[(0,i.jsx)(ei,{pullRequest:t}),n!==e.prs.length-1?(0,i.jsx)(i.Fragment,{children:",\xa0"}):null]},`pr-${t.repo.ownerLogin}-${t.repo.name}-${t.number}`)),")"]}):null]})}function ei({pullRequest:e}){let{repo:t,number:n,showPrefix:r}=e,a=r?`${t.ownerLogin}/${t.name}`:"";return(0,i.jsxs)(W.A,{href:(0,v.oDn)({repo:t,number:n}),className:"fgColor-muted","data-hovercard-url":(0,v.i9S)({owner:t.ownerLogin,repo:t.name,pullRequestNumber:n}),children:[a,"#",n]})}try{er.displayName||(er.displayName="CommitBranchInfo")}catch{}try{ea.displayName||(ea.displayName="BranchFragment")}catch{}try{ei.displayName||(ei.displayName="PullRequestLink")}catch{}let es={"commit-message-container":"CommitHeader-module__commit-message-container--nl1pf","commit-header-actions":"CommitHeader-module__commit-header-actions--kHXV1"};var eo=n(17774);function el({commit:e,repo:t}){return(0,i.jsxs)(i.Fragment,{children:[`${e.parents.length} parent${e.parents.length>1||0===e.parents.length?"s":""} `,e.parents.map((e,n)=>(0,i.jsxs)(c.Fragment,{children:[0!==n?" + ":"",(0,i.jsx)(W.A,{to:(0,v.$Qz)({owner:t.ownerLogin,repo:t.name,commitish:e})+new URL(w.fV.origin+w.fV.pathname+w.fV.search,w.fV.origin).search,as:eo.N,className:"color-fg-default Link--inTextBlock","data-hotkey":function(e){switch(e){case 0:return"p";case 1:return"o";default:return}}(n),"data-hovercard-url":(0,v.fQd)({owner:t.ownerLogin,repo:t.name,commitish:e}),children:(0,X.F)(e)})]},e))]})}try{el.displayName||(el.displayName="CommitParents")}catch{}var ed=n(8338),ec=n(74144);function em({data:e,repo:t,className:n}){if(0===e.tags.length)return null;let r=e.tags.length>2&&e.tags.length<25,a=e.tags.length>=25;return(0,i.jsxs)("div",{className:(0,I.$)(n,"d-flex flex-items-center flex-wrap gap-1"),children:[(0,i.jsx)(D.A,{className:"mr-2 fgColor-muted",icon:m.TagIcon}),(0,i.jsx)(W.A,{href:(0,v.cpj)({owner:t.ownerLogin,repo:t.name,tag:e.tags[0]}),className:"fgColor-default",children:e.tags[0]}),r?(0,i.jsx)(eu,{tags:e.tags,repo:t}):null,a?(0,i.jsx)(ef,{tags:e.tags,repo:t}):null,e.tags.length>1?(0,i.jsx)(W.A,{href:(0,v.cpj)({owner:t.ownerLogin,repo:t.name,tag:e.tags[e.tags.length-1]}),className:"fgColor-muted",children:e.tags[e.tags.length-1]}):null]})}function eu({tags:e,repo:t}){let[n,r]=(0,c.useState)(!1),a=(0,c.useRef)(null),s=(0,c.useCallback)(()=>{r(!0),requestAnimationFrame(()=>a.current?.focus())},[]);return n?(0,i.jsx)(i.Fragment,{children:e.slice(1,e.length-1).map((e,n)=>(0,i.jsx)(W.A,{ref:0===n?a:null,href:(0,v.cpj)({owner:t.ownerLogin,repo:t.name,tag:e}),className:"fgColor-muted mx-1",children:e},e))}):(0,i.jsx)(q.K,{"aria-label":"Show more tags",unsafeDisableTooltip:!0,icon:m.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:s})}function ef({tags:e,repo:t}){let[n,r]=(0,c.useState)(!1),a=(0,c.useRef)(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(q.K,{"aria-label":"Show all tags",unsafeDisableTooltip:!0,icon:m.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:()=>r(!0),ref:a}),n&&(0,i.jsx)(ec.l,{title:`${e.length} tags`,onClose:()=>r(!1),returnFocusRef:a,width:"medium",height:e.length>=12?"small":"auto",renderBody:()=>(0,i.jsx)(ed.l,{className:"overflow-y-auto py-2","data-testid":"tag-dialog-list",children:e.map(e=>(0,i.jsx)(ed.l.LinkItem,{href:(0,v.cpj)({owner:t.ownerLogin,repo:t.name,tag:e}),children:e},e))})})]})}try{em.displayName||(em.displayName="CommitTagInfo")}catch{}try{eu.displayName||(eu.displayName="ExpandedTags")}catch{}try{ef.displayName||(ef.displayName="CommitTagsDialog")}catch{}let eh=(0,c.memo)(ep);function ep({commit:e,commitInfo:t,repo:n}){let r=(0,c.useRef)(null),a=(0,K.I)(`${(0,v.$Qz)({owner:n.ownerLogin,repo:n.name,commitish:e.oid})}/deferred_commit_data`);return(0,i.jsxs)(z.z,{children:[(0,i.jsx)(z.z.TitleArea,{variant:"large",sx:{minWidth:0,alignItems:"center"},children:(0,i.jsxs)(z.z.Title,{as:"h1",sx:{minWidth:0},className:"f2",children:["Commit ",(0,i.jsx)("span",{className:"text-mono bgColor-muted rounded p-1",children:(0,X.F)(e.oid)})]})}),(0,i.jsx)(z.z.Actions,{className:(0,I.$)(es["commit-header-actions"]),children:(0,i.jsxs)("div",{className:"d-flex gap-2 flex-items-center flex-md-justify-end",children:[(0,i.jsx)(ex,{}),(0,i.jsx)(Q.A,{text:"Browse the repository at this point in the history",direction:"sw",sx:{display:"flex"},className:"d-none d-md-flex",children:(0,i.jsx)(V.Q,{as:W.A,sx:{color:"fg.default"},href:(0,v.IO9)({repo:n,action:"tree",commitish:e.oid}),leadingVisual:m.FileCodeIcon,children:"Browse files"})}),(0,i.jsx)(q.K,{as:W.A,href:(0,v.IO9)({repo:n,action:"tree",commitish:e.oid}),icon:m.FileCodeIcon,"aria-label":"Browse files",className:"d-flex d-md-none"})]})}),(0,i.jsx)(z.z.Description,{children:(0,i.jsxs)("div",{className:"d-flex flex-column gap-2 width-full",children:[(0,i.jsx)(Z.j,{commit:e,repo:n,settings:{fontColor:"fg.default",avatarSize:20,fontWeight:"bold"},textVariant:"muted",children:(0,i.jsx)(eg,{deferredData:a,oid:e.oid,repo:n})}),(0,i.jsxs)(et.Z,{className:"pt-0",children:[(e.shortMessageMarkdown||e.bodyMessageHtml)&&(0,i.jsxs)("div",{className:(0,I.$)(es["commit-message-container"]),children:[e.shortMessageMarkdown&&(0,i.jsx)($.yx,{ref:r,html:e.shortMessageMarkdown,className:"ws-pre-wrap f5 wb-break-word text-mono"}),e.bodyMessageHtml&&(0,i.jsx)($.yx,{html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container f6 wb-break-word text-mono mt-2"})]}),(0,i.jsxs)("div",{className:"p-2 d-flex gap-2 flex-column flex-md-row flex-justify-between",children:[(0,i.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[(0,i.jsx)(er,{data:t,repo:n}),t.tags.length>0&&(0,i.jsx)("span",{className:"px-2",children:"\xb7"}),(0,i.jsx)(em,{data:t,repo:n})]}),(0,i.jsxs)("pre",{className:"color-fg-muted d-flex flex-items-center",children:[(0,i.jsx)(el,{commit:e,repo:n})," commit ",(0,i.jsx)("span",{className:"fgColor-default",children:(0,X.F)(e.oid)}),(0,i.jsx)(ee.w,{sha:e.oid,direction:"sw"})]})]})]})]})})]})}function eg({deferredData:e,oid:t,repo:n}){let{helpUrl:r}=(0,Y.D)(),a=void 0===e,s="";try{s=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsx)(O.O,{className:"ml-2",variant:"rounded",width:"62px"}),e?.statusCheckStatus&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"d-flex ml-2 mr-1",children:"\xb7"}),(0,i.jsx)(J.d,{oid:t,status:e?.statusCheckStatus?.state,descriptionString:s,repo:n}),e?.signatureInformation&&e?.verifiedStatus!=="unsigned"&&(0,i.jsx)("span",{className:"d-flex ml-2",children:"\xb7"})]}),e?.signatureInformation&&(0,i.jsx)("div",{className:"ml-2",children:(0,i.jsx)(U.h,{commitOid:t,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:{helpUrl:r,...e.signatureInformation}})})]})}function ex(){return(0,B.u)("diff_ux_refresh_beta")?(0,i.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,i.jsx)(G.A,{variant:"success",children:"Preview"}),(0,i.jsx)(W.A,{href:"https://gh.io/new-commit-details-feedback",target:"_blank",rel:"noopener noreferrer",className:"no-wrap f5 text-normal d-none d-sm-block",children:"Give feedback"})]}):null}try{eh.displayName||(eh.displayName="CommitHeader")}catch{}try{ep.displayName||(ep.displayName="CommitHeaderUnmemoized")}catch{}try{eg.displayName||(eg.displayName="DeferredCommitHeaderData")}catch{}try{ex.displayName||(ex.displayName="Feedback")}catch{}function ey({unavailableReason:e,commit:t,commitInfo:n}){let r=(0,s.t)(),a=ej[e];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.B,{"data-hpc":!0,padding:{narrow:"normal",regular:"spacious"},children:(0,i.jsx)(eh,{commit:t,commitInfo:n,repo:r})}),(0,i.jsxs)(u.A,{children:[(0,i.jsx)(u.A.Visual,{children:a.visual}),(0,i.jsx)(u.A.Heading,{children:a.heading}),(0,i.jsx)(u.A.Description,{children:a.description}),a.secondaryAction]})]})}let ej={corrupt:{visual:(0,i.jsx)(m.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,i.jsx)(u.A.SecondaryAction,{href:(0,v.y2B)(),children:"Please contact support for more information"})},"missing commits":{visual:(0,i.jsx)(m.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,i.jsx)(u.A.SecondaryAction,{href:(0,v.y2B)(),children:"Please contact support for more information"})},timeout:{visual:(0,i.jsx)(m.HourglassIcon,{}),heading:"Sorry, this diff is taking too long to generate.",description:"It may be too large to display on GitHub."},"too busy":{visual:(0,i.jsx)(m.HourglassIcon,{}),heading:"Sorry, this diff is temporarily unavailable due to heavy server load.",description:"Please try again later."}};try{ey.displayName||(ey.displayName="CommitUnavailable")}catch{}var e_=n(26920),ev=n(29063),eb=n(87592),ew=n(73218),eN=n(38359),eC=n(27068),eS=n(72777),ek=n(35822);let eI="commit-details-marker-portal";var eL=n(57572);let eT={extraDiffEntries:[],loading:!0,error:!1};var eD=n(37827);function eE(){let[e,t]=(0,c.useState)(!1);return(0,i.jsx)("div",{className:e?"":"pt-4",children:!e&&(0,i.jsx)(eD.l,{title:"Some content is hidden",description:(0,i.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"Large Commits have some content hidden by default. Use the searchbox below for content that may be hidden."}),variant:"warning",onDismiss:()=>t(!0)})})}try{eE.displayName||(eE.displayName="VirtualizedBanner")}catch{}var eA=n(1977),eR=n(84),eP=n(43732),eF=n(79740),eM=n(74493),eH=n(56366);async function eB(e,t,n){let r=await (0,eL.Sr)(`${t}?pathDigest=${n}${function(e){let t="";for(let n=0;n<e.length;n++)t+=`&lineRanges[]=${JSON.stringify(e[n])}`;return t}(e)}`);if(r.ok)return await r.json()??void 0}async function e$({repo:e,sha1:t,sha2:n,entry:r}){let a=await (0,eL.Sr)((0,eH.RD)((0,v.uxJ)({owner:e.ownerLogin,repo:e.name,entry:r,sha1:t,sha2:n})));if(a.ok){let e=await a.json();return(0,eH.Av)(e),e.diffLines}throw Error("error fetching diff lines.")}function eU(e,t){let n=new Map;for(let t of e){let e=`${t.left}-${t.right}`;n.set(e,t)}return t.map(e=>{let t=`${e.left}-${e.right}`,r=n.get(t);return r?{...e,position:r.position}:{...e,position:null,threadsData:void 0}})}var eO=n(96590),ez=n(89323);function eV({oid:e,path:t,repo:n,isViewable:r=!0,copilotDiffChatProps:a}){return(0,i.jsxs)(ez.W,{children:[(0,i.jsx)(ez.W.Anchor,{children:(0,i.jsx)("button",{className:"Button Button--iconOnly Button--invisible","aria-label":"More options",children:(0,i.jsx)(m.KebabHorizontalIcon,{})})}),(0,i.jsx)(ez.W.Overlay,{children:(0,i.jsxs)(ed.l,{children:[(0,i.jsxs)(ed.l.LinkItem,{href:(0,v.nD_)({repo:n.name,owner:n.ownerLogin,filePath:t,commitish:e}),inactiveText:r?void 0:"Action unavailable",children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)(m.EyeIcon,{})}),"View file"]}),a&&(0,i.jsx)(eO.$,{...a})]})})]})}try{eV.displayName||(eV.displayName="BlobActionsMenu")}catch{}let eW=(0,c.memo)(function({commitOid:e,path:t,proseDiffHtml:n,fileRendererInfo:r,dependencyDiffPath:a}){let{loaded:o,richDiffData:l}=function(e,t,n,r){let a=!!t.proseDiffHtml||!!t.fileRendererInfo||!!r,i=(0,s.t)(),[o,l]=(0,c.useState)(a),[d,m]=(0,c.useState)(t),u=(0,c.useCallback)(async()=>{let t=await (0,eL.lS)(`${(0,v.$Qz)({owner:i.ownerLogin,repo:i.name,commitish:e})}/rich_diff/${encodeURIComponent(n)}`);t.ok&&m(await t.json()),l(!0)},[e,n,i]);return(0,c.useEffect)(()=>{a||u()},[a,u]),{loaded:o,richDiffData:d}}(e,{proseDiffHtml:n,fileRendererInfo:r},t,a);return(0,i.jsx)(g.Uz,{dependencyDiffPath:a,fileRendererInfo:l.fileRendererInfo,loading:!o,proseDiffHtml:l.proseDiffHtml})});try{eW.displayName||(eW.displayName="CommitRichDiff")}catch{}let eq={diffHeaderWrapper:"Diff-module__diffHeaderWrapper--rsdD4"},eG={isInMergeQueue:!1,state:"OPEN"},eQ=c.memo(eY);function eY({diffMatches:e,focusedSearchResult:t,diffEntryData:n,contextLinePathURL:r,recalcTotalHeightOfVirtualWindow:a,onOptionCollapseToggle:s,helpUrl:l,headerStickyOffset:m=0,repo:u,oid:f,index:h,ignoreWhitespace:p,virtualizerScrollTo:x}){let j=(0,o.i)(),{data:_}=(0,y.Pe)();void 0===_&&(_=y.in);let v=(0,c.useMemo)(()=>({filteredMarkers:[],activeGlobalMarkerID:"",decrementActiveMarker:ew.l,incrementActiveMarker:ew.l,onActivateGlobalMarkerNavigation:ew.l,overlayPortalContainerName:eI}),[]),b=(0,d.B)().commentInfo,{getThreadDataByPathAndPosition:w,getInlineCommentInfoByPathAndPosition:N,updateInlineCommentMapWithNewComment:C,initialExpandedThreadId:S}=(0,eP.B)(),k=function(e,t,n){let r=(0,d.B)(),{commit:a,commentInfo:i}=r,s=(0,eM.I)({commit:a,repo:r.repo,viewerCanReply:i.canComment,getInlineCommentInfoByPathAndPosition:t}),{addComment:o,deleteComment:l,editComment:m,hideComment:u,unhideComment:f}=(0,eF.X)(),{findInlineComment:h,findInlineCommentWithRelay:p}=(0,eP.B)(),{diff_inline_comments:g}=(0,B.h)(),x=(0,c.useCallback)(({filePath:e,onCompleted:t,onError:n,text:r,thread:a})=>{let[i,s]=a.id.split("::");if(!i||!s){n(Error("Invalid threadId"));return}o(r,e,s).then(e=>{e.comment?t?.(e.comment.id):n(Error("Failed to add comment"))})},[o]),y=(0,c.useCallback)(({text:e,diffLine:t,filePath:r,onCompleted:a,onError:i})=>{t&&t.position&&o(e,r,t.position.toString()).then(e=>{if(e.comment){let i=e.comment.id,o=`${r}::${t.position}`;g&&(n?.(r,t.position??0,[e.comment],!0),s(o,!0)),a?.(o,i)}else i?.(Error("Failed to add comment"))})},[o,g,n,s]),j=(0,c.useCallback)(({comment:e,text:t,onCompleted:n,onError:r})=>{let a=p(e.id);if(!a){r(Error("Comment not found"));return}m(t,{id:a.id,bodyVersion:a.bodyVersion}).then(e=>{e.updatedFields?n?.():r(Error("Failed to edit comment"))})},[m,p]),_=(0,c.useCallback)(({commentId:e,onCompleted:t,onError:n})=>{let r=p(e);if(!r){n?.(Error("Comment not found"));return}l(r.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&n?.(Error("Failed to delete comment"))})},[l,p]),v=(0,c.useCallback)(({commentDatabaseId:e,reason:t,onCompleted:n,onError:r})=>{let a=h(e);if(!a){r?.(Error("Comment not found"));return}u(a.id.toString(),t).then(e=>{"success"===e?n?.():"error"===e&&r(Error("Failed to hide comment"))})},[h,u]),b=(0,c.useCallback)(({commentDatabaseId:e,onCompleted:t,onError:n})=>{let r=h(e);if(!r){n?.(Error("Comment not found"));return}f(r.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&n(Error("Failed to unhide comment"))})},[h,f]);return(0,c.useMemo)(()=>({batchingEnabled:!1,commentSubjectType:"commit",multilineEnabled:!1,resolvingEnabled:!1,suggestedChangesEnabled:!1,lazyFetchReactionGroups:!0,addThread:y,addThreadReply:x,deleteComment:_,editComment:j,pendingSuggestedChangesBatch:[],submitSuggestedChanges:ew.l,addSuggestedChangeToPendingBatch:ew.l,removeSuggestedChangeFromPendingBatch:ew.l,addFileLevelThread:ew.l,resolveThread:ew.l,unresolveThread:ew.l,hideComment:v,unhideComment:b,fetchThread:s,commentBoxConfig:{pasteUrlsAsPlainText:e.pasteUrlsAsPlainText,useMonospaceFont:e.useMonospaceFont}}),[y,x,_,j,s,v,b,e])}((0,eF.X)().commentBoxConfig,N,C),[I,L]=(0,c.useState)(eK(n.current[h],w)),T=(0,c.useCallback)(e=>{L(eK(e,w))},[w]),[D,E]=(0,c.useState)(I.collapsed),[A,R]=(0,c.useState)(I.defaultToRichDiff),P=I.isSubmodule&&!!I.submodule,F=!P&&!A,[M,H]=(0,c.useState)(I.diffManuallyExpanded),$=(0,c.useRef)(!1);(0,c.useEffect)(()=>{E(I.collapsed)},[I.collapsed]);let U=(0,c.useRef)([]),O=(0,c.useCallback)(async e=>{U.current.push(e);let t=await eB(U.current,r,I.pathDigest);if(void 0!==t){let e={...I};e.diffLines=eU(e.diffLines,t.diffEntryWithContext),T(e),n.current[h]=e,a()}},[r,n,I,h]),z=async()=>{U.current=[],$.current||((I.newTreeEntry?.lineCount??0)<5e3?U.current.push({start:1,end:Math.max(I.oldTreeEntry?.lineCount??0,I.newTreeEntry?.lineCount??0)}):U.current=function(e,t){let n=[];for(let t=0;t<e.length;t++)if("HUNK"===e[t].type){let r=e[t-1>=0?t-1:0],a=e[t+1<e.length?t+1:e.length-1],i=r?.blobLineNumber,s=a?.blobLineNumber;i&&s&&(n.push({start:i,end:i+40}),n.push({start:Math.max(s-40,1),end:s}))}let r=e[e.length-1].blobLineNumber;return r<t&&n.push({start:r,end:r+40}),n}(I.diffLines,I.newTreeEntry?.lineCount??0)),$.current=!$.current;let e=await eB(U.current,r,I.pathDigest);if(void 0!==e){let t={...I};t.diffLines=eU(t.diffLines,e.diffEntryWithContext),T(t),n.current[h]=t,a()}},V=(0,c.useCallback)(async()=>{if(0===I.diffLines.length){let e;try{e=await e$({repo:u,sha1:I.oldOid,sha2:I.newOid,entry:I.diffNumber.toString()})}catch{throw Error("Error fetching diff lines")}let t={...I};t.diffLines=e,T(t),n.current[h]=t}I.diffManuallyExpanded=!0,n.current[h].diffManuallyExpanded=!0,H(!0),a(),requestAnimationFrame(()=>{x?.(h,{align:"center"})})},[n,I,h,a]);(0,c.useEffect)(()=>{T(n.current[h]),U.current=[]},[p,h,n,f,u.name,u.ownerLogin,I.path,T]);let W=(0,c.useMemo)(()=>{if(I.isBinary||I.isSubmodule||(0,eR.dK)(I))return!1;if($.current||(n.current[h]?.diffLines?.[1]?.blobLineNumber||0)>1)return!0;let e=n.current[h]?.diffLines?.length||0,t=n.current[h]?.diffLines?.[e-1]?.blobLineNumber||0,r=n.current[h]?.newTreeEntry?.lineCount||0;return t<r||e-1<r},[n.current[h]?.diffLines,n.current[h]?.newTreeEntry?.lineCount,h,n,I]),q=(0,c.useMemo)(()=>({avatarUrl:j?.avatarURL??"",diffViewPreference:_.splitPreference,isSiteAdmin:!1,commentsPreference:_.commentsPreference,login:j?.login??"",lineSpacingPreference:_.lineSpacing,tabSizePreference:j?.tabSize??8,viewerCanComment:b.canComment,viewerCanApplySuggestion:!1}),[j?.avatarURL,j,j?.login,j?.tabSize,_]),G=(0,c.useMemo)(()=>{if(I.copilotChatReference)return{copilotChatReference:I.copilotChatReference}},[I]),Q=(0,c.useId)(),Y=`heading-${Q}`;return(0,i.jsxs)("div",{role:"region","aria-labelledby":Y,className:"position-relative",style:{contain:"layout"},children:[(0,i.jsx)("div",{className:eq.diffHeaderWrapper,style:{"--header-sticky-offset":`${m}px`},children:(0,i.jsx)(eA.B,{areLinesExpanded:$.current,canExpandOrCollapseLines:W,defaultToRichDiff:I.defaultToRichDiff,fileLinkHref:`#diff-${I.pathDigest}`,isCollapsed:D,isBinary:I.isBinary,isSubmodule:P,headingId:Y,size:I.diffSize,canToggleRichDiff:I.canToggleRichDiff,linesAdded:I.linesAdded,linesChanged:I.linesChanged,linesDeleted:I.linesDeleted,newMode:I.newTreeEntry?.mode,newPath:I.newTreeEntry?.path,oldMode:I.oldTreeEntry?.mode,oldPath:I.oldTreeEntry?.path,patchStatus:I.status,path:I.path,onToggleExpandAllLines:z,onToggleFileCollapsed:e=>{e.altKey?s(!D):(I.collapsed=!D,n.current[h].collapsed=!D,E(!D))},onToggleDiffDisplay:e=>R(e),rightSideContent:(0,i.jsx)(eV,{oid:"REMOVED"===I.status&&I.deletedSha?I.deletedSha:f,path:I.path,repo:u,isViewable:!I.isSubmodule,copilotDiffChatProps:G})})}),D?null:(0,i.jsxs)("div",{className:"border position-relative rounded-bottom-2",children:[P&&I.submodule&&(0,i.jsx)(g.Wb,{submodule:I.submodule}),A&&(0,i.jsx)(eW,{commitOid:f,path:I.path,proseDiffHtml:I.proseDifffHtml,fileRendererInfo:I.renderInfo,dependencyDiffPath:I.dependencyDiffPath}),F&&(0,i.jsx)(g.T5,{diffContext:"commit",copilotChatReference:I.copilotChatReference,searchResults:e,focusedSearchResult:t,diffEntryData:I,baseHelpUrl:l,commentingEnabled:!0,commentBatchPending:!1,repositoryId:u.id.toString(),subject:eG,subjectId:f,viewerData:q,newCommitOid:I.newOid,oldCommitOid:I.oldOid,addInjectedContextLines:O,commentingImplementation:k,markerNavigationImplementation:v,diffLinesManuallyUnhidden:M,onHandleLoadDiff:V,initialExpandedThreadId:S})]})]},`${I.pathDigest}_${I.diffLines.length}`)}function eK(e,t){for(let n of e.diffLines??[]){let r=t(e.path,n.position);r?n.threadsData={totalCommentsCount:r.count,totalCount:r.count,threads:(r.threads??[]).map(e=>({id:e.id,diffSide:e.diffSide,commentsData:e.commentsData,line:n.blobLineNumber,isOutdated:!1}))}:n.threadsData=void 0}return e}try{eQ.displayName||(eQ.displayName="Diff")}catch{}try{eY.displayName||(eY.displayName="DiffUnmemoized")}catch{}var eX=n(57442),eJ=n(84217);let eZ=(0,c.memo)(e0);function e0({treeToggleElement:e,headerInfo:t,searchBox:n}){let r=(0,c.useRef)(null),a=function(e){let[t,n]=(0,c.useState)(!1),r=(0,c.useCallback)(e=>{let r=e[e.length-1].intersectionRatio<1;r!==t&&n(r)},[t,n]);return(0,c.useEffect)(()=>{let t=e.current,n=new IntersectionObserver(r,{root:t?.ownerDocument,threshold:[1],rootMargin:"-1px 0px 0px 0px"});return e.current&&n.observe(e.current),()=>{t&&n.unobserve(t)}},[e,r]),t}(r),s=a?"d-none d-sm-flex":"";return(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between gap-2 pt-3 pt-lg-4 pb-2 position-sticky top-0 color-bg-default",style:{zIndex:2},ref:r,children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[e,(0,i.jsxs)(eJ.A,{as:"h2",className:"mx-2 f4",children:[t.filesChangedString," file",t.filesChanged>1?"s":""," changed"]}),(0,i.jsxs)(eA.C,{className:s,isAddition:!0,children:["+",t.additions]}),(0,i.jsxs)(eA.C,{className:s,isAddition:!1,children:["-",t.deletions]}),(0,i.jsx)("span",{className:`${s} ml-2 fgColor-muted text-small`,style:{whiteSpace:"nowrap"},children:"lines changed"})]}),(0,i.jsxs)("div",{className:"d-flex gap-2 flex-items-center",children:[a&&(0,i.jsx)(e1,{}),void 0!==n&&n,(0,i.jsx)(eX.G,{reloadOnWhitespaceChange:!0})]})]})}let e1=()=>(0,i.jsx)(V.Q,{leadingVisual:m.ArrowUpIcon,variant:"invisible",className:"fgColor-default px-2 f6 gap-1",onClick:e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},children:"Top"});try{eZ.displayName||(eZ.displayName="DiffsHeader")}catch{}try{e0.displayName||(e0.displayName="DiffsHeaderUnmemoized")}catch{}try{e1.displayName||(e1.displayName="GoToTopButton")}catch{}let e2=c.memo(e4);function e4(){return(0,i.jsx)("div",{className:"pt-3",children:(0,i.jsxs)("div",{className:"border borderColor-muted rounded-top-2",children:[(0,i.jsx)("div",{className:"gap-2 p-3 border-bottom borderColor-muted bgColor-muted rounded-top-2",children:(0,i.jsx)(O.O,{height:"sm",variant:"rounded",width:"140px"})}),(0,i.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,i.jsx)(O.O,{height:"sm",variant:"rounded",width:"random"}),(0,i.jsx)(O.O,{height:"sm",variant:"rounded",width:"random"}),(0,i.jsx)(O.O,{height:"sm",variant:"rounded",width:"random"}),(0,i.jsx)(O.O,{height:"sm",variant:"rounded",width:"random"})]})]})})}try{e2.displayName||(e2.displayName="LoadingContentBlock")}catch{}try{e4.displayName||(e4.displayName="LoadingContentBlockUnmemoized")}catch{}function e3({diffEntryData:e,contextLinePathURL:t,repo:n,oid:r,treeToggleElement:a,headerInfo:s,totalFileCount:o}){let l=(0,c.useRef)(e),m=(0,eN.X)(),u=(0,d.B)(),{diff_ux_refresh_ssr_five:f,diff_ux_refresh_ssr_ten:h}=(0,B.h)(),p=f?5:h?10:void 0;return(0,i.jsxs)("div",{"data-hpc":!0,children:[o>40&&(0,i.jsx)(eE,{}),(0,i.jsx)(eZ,{treeToggleElement:a,headerInfo:s}),e.map((e,a)=>p&&a>=p?null:(0,i.jsx)("div",{className:0===a?"pt-0":"pt-3",children:(0,i.jsx)(eQ,{onOptionCollapseToggle:ew.l,diffEntryData:l,index:a,helpUrl:m.helpUrl,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:ew.l,repo:n,ignoreWhitespace:u.ignoreWhitespace,oid:r})},e.pathDigest))]})}try{e3.displayName||(e3.displayName="SSRDiffs")}catch{}let e7=(0,c.memo)(e5);function e5({totalFileCount:e,diffEntryData:t,contextLinePathURL:n,unselectedFileExtensions:r,repo:a,oid:s,ignoreWhitespace:o,filterTerm:l,searchTerm:m,setSearchTerm:u,isTreeExpanded:f,treeToggleElement:h,headerInfo:x}){let j=(0,eb.U)(),{data:_}=(0,y.Pe)();void 0===_&&(_=y.in);let b=_.lineSpacing,N=(0,y.Qn)(_.hideWhitespace),C=(0,d.B)(),S=(0,c.useCallback)(()=>I({}),[]),[k,I]=(0,c.useState)({}),L=(0,c.useRef)(t),{findInDiffWorkerPath:D}=(0,Y.D)(),E=(0,c.useRef)(t),A=(0,c.useRef)(e>40),R=(0,c.useRef)(null),[P,F]=(0,c.useState)(N),M=(0,c.useRef)(0),[H,B]=(0,c.useState)(s),{focusedSearchResult:$,setFocusedSearchResult:U,searchResults:O,currentIndex:z,setCurrentIndex:V}=(0,g.xB)(L.current,m,D,k);function W(e){for(let t of L.current)t.collapsed=e;S()}(0,c.useEffect)(()=>{r&&r.size>0?L.current=E.current.filter(e=>!r.has((0,e_.QC)(e.path))):L.current=E.current,l&&(L.current=L.current.filter(e=>e.path.toLowerCase().includes(l.toLowerCase()))),A.current=L.current.length>40,S()},[r?.size,l]),(0,c.useEffect)(()=>{L.current=t,E.current=t,A.current=e>40,S(),F(o),B(s)},[C.path]);let q=(0,eN.X)(),G=(0,v.VWf)({owner:C.repo.ownerLogin,repo:C.repo.name,sha1:C.commit.sha1,sha2:C.commit.sha2,oid:C.commit.oid}),Q=function(e,t,n,r,a,i){let[s,o]=(0,c.useState)(eT),l=(0,c.useRef)([]),d=(0,c.useRef)(n);return(0,c.useEffect)(()=>{if(!r||!a)return;let i=!1,s=async(e,t,n)=>{o(eT);let a=await (0,eL.lS)(`${r}&start_entry=${e}&bytes=${t}&lines=${n}`);if(!i)try{if(a.ok){let e=await a.json();e&&(e.loading=e.loadMore,l.current=l.current.concat(e.extraDiffEntries),e.extraDiffEntries=l.current,e.loadMore&&d.current!==e.asyncDiffLoadInfo.startIndex?(d.current=e.asyncDiffLoadInfo.startIndex,o(e),setTimeout(()=>s(e.asyncDiffLoadInfo.startIndex,e.asyncDiffLoadInfo.byteCount,e.asyncDiffLoadInfo.lineShownCount),0)):(d.current===e.asyncDiffLoadInfo.startIndex?e.error=!0:e.error=!1,e.loading=!1,o(e)))}else o(e=>({...e,loading:!1,error:!0,extraDiffEntries:l.current}))}catch{o(e=>({...e,loading:!1,error:!0,extraDiffEntries:l.current}))}};return s(n,e,t),function(){i=!0}},[e,t,a,n,r,i]),(0,c.useEffect)(()=>{l.current=[],d.current=n},[r,n,i]),s}(C.asyncDiffLoadInfo.byteCount,C.asyncDiffLoadInfo.lineShownCount,C.asyncDiffLoadInfo.startIndex,G,C.moreDiffsToLoad,o);(0,c.useEffect)(()=>{let e=L.current.concat(Q.extraDiffEntries);r&&r.size>0?L.current=e.filter(e=>!r.has((0,e_.QC)(e.path))):L.current=e,l&&(L.current=L.current.filter(e=>e.path.toLowerCase().includes(l.toLowerCase()))),E.current=e,S()},[Q.extraDiffEntries.length]);let K=(0,c.useRef)(null),X=(0,eS.h)({parentRef:K,shouldUseScrollRef:A.current,size:f?0:L.current.length,estimateSize:(0,c.useCallback)(e=>{var t;let n;if(!A.current)return 0;let r=(t=L.current[e],n=57,t?.collapsed?n:t?.newTreeEntry?.isGenerated&&!t?.diffManuallyExpanded?199:t?.isTooBig?104:(t?.diffLines&&("compact"===b?n+=20*t.diffLines.length:n+=25*t.diffLines.length),t?.newTreeEntry?.lineCount&&t.newTreeEntry.lineCount>(t?.diffLines[t?.diffLines.length-1]?.right??0)&&(n+=32),n));return 0===e&&(r-=16),r},[L.current.length,k]),useVirtualImpl:eC.Y,rangeExtractor(e){if(!A.current)return(0,ek.v)(e);let t=w.fV.hash.substring(1),n=(0,ev.pd)(t),r=document.querySelector("[data-path-digest]:focus-within")?.getAttribute("data-path-digest"),a=L.current.findIndex(e=>e.pathDigest===r),i=L.current.findIndex(e=>n?.endsWith(e.pathDigest));return a<0&&i<0?(0,ek.v)(e):Array.from(new Set([...(0,ek.v)(e),...[a,i].filter(e=>e>-1)])).sort((e,t)=>e-t)}});(0,c.useEffect)(()=>{let e=j.includes("R"),t=j.includes("L"),n=t||e,r=n?t?j.split("L")[0]:j.split("R")[0]:j,a=e6(r??j,L.current);if(-1===a){if(Q.error&&null!==R){let e=R.current?.childNodes[0];e?.focus(),e?.scrollIntoView({block:"center"})}return}if(A.current)X.scrollToIndex(a,{align:"center"}),requestAnimationFrame(()=>{if(n&&e8(K,j));else{let e=K.current?.querySelectorAll(`[aria-label="collapse file: ${L.current[a]?.path}"]`);e&&1===e.length&&e[0].focus()}});else if(n&&e8(K,j));else{let e=K.current?.querySelectorAll(`[data-diff-anchor=diff-${r}]`);if(e&&1===e.length){let t=e[0].getBoundingClientRect().top+(w.cg?.scrollY??0)-57-60;w.cg?.scrollTo(0,t);let n=K.current?.querySelectorAll(`[aria-label="collapse file: ${L.current[a]?.path}"]`);n&&1===n.length&&n[0].focus()}}},[j,Q]);let J=!A.current&&0===L.current.length,Z=(0,i.jsx)(g.n$,{currentPathDigestIndex:M,searchTerm:m,focusedSearchResult:$,currentIndex:z,setCurrentIndex:V,setFocusedSearchResult:U,setSearchTerm:u,searchResults:O,scrollDiffCellIntoView:e=>{let t=e6(e?.pathDigest??"",L.current);-1!==t&&(X.scrollToIndex(t,{align:"center"}),requestAnimationFrame(()=>{(function(e,t){let n=w.XC?.getElementById(`match-${t}-${e}`);n&&n.scrollIntoView({block:"center"})})(e?.indexWithinDigest??0,e?.pathDigest??"")}))}});return(0,i.jsxs)("div",{"data-hpc":!0,ref:K,children:[A.current&&(0,i.jsx)(eE,{}),(0,i.jsx)(eZ,{treeToggleElement:h,headerInfo:x,searchBox:Z}),(0,i.jsx)(p.dE,{id:eI}),!A.current&&L.current.map((e,t)=>{let r,s;return O.has(e?.pathDigest??"")&&(r=O.get(e?.pathDigest??"")??[]),$&&e?.pathDigest===$?.pathDigest&&(s=$?.indexWithinDigest??-1),(0,i.jsx)("div",{style:{paddingTop:0===t?0:16,left:3,right:3},children:(0,i.jsx)(eQ,{diffEntryData:L,diffMatches:r,focusedSearchResult:s,onOptionCollapseToggle:W,index:t,contextLinePathURL:n,recalcTotalHeightOfVirtualWindow:ew.l,repo:a,helpUrl:q.helpUrl,oid:H,ignoreWhitespace:P})},e.pathDigest)}),(0,i.jsx)("div",{role:"alert",className:"sr-only",children:J&&(0,i.jsx)("h3",{className:"d-flex flex-justify-center",children:"There are no files selected for viewing"})}),A.current&&(0,i.jsx)("div",{style:{height:X.totalSize,width:"100%",position:"relative"},children:X.virtualItems.map(e=>{let t,r;let s=L.current[e.index];return(O.has(s?.pathDigest??"")&&(t=O.get(s?.pathDigest??"")??[]),$&&s?.pathDigest===$?.pathDigest&&(r=$?.indexWithinDigest??-1),s)?(0,i.jsx)("div",{ref:e.measureRef,"data-key":e.key,style:{position:"absolute",paddingTop:0===e.index?0:16,left:3,right:3,transform:`translateY(${e.start}px)`},children:(0,i.jsx)(eQ,{diffMatches:t,focusedSearchResult:r,diffEntryData:L,index:e.index,contextLinePathURL:n,onOptionCollapseToggle:W,recalcTotalHeightOfVirtualWindow:S,headerStickyOffset:-e.start,helpUrl:q.helpUrl,repo:a,oid:H,ignoreWhitespace:P,virtualizerScrollTo:X.scrollToIndex})},s.pathDigest):null})}),C.moreDiffsToLoad&&(0,i.jsxs)(i.Fragment,{children:[Q.loading&&(0,i.jsx)(e2,{}),Q.error&&(0,i.jsx)("div",{style:{justifyContent:"center",paddingTop:"16px"},ref:R,children:(0,i.jsx)(T.A,{variant:"danger",tabIndex:0,children:(0,i.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"There was a problem loading the remainder of the diff."})})})]})]})}function e6(e,t){for(let n=0;n<t.length;n++)if(e===t[n]?.pathDigest)return n;return -1}function e8(e,t){let n=e.current?.querySelectorAll(`[data-line-anchor=diff-${t}]`);return!!n&&1===n.length&&(n[0].focus(),!0)}try{e7.displayName||(e7.displayName="Diffs")}catch{}try{e5.displayName||(e5.displayName="DiffsUnmemoized")}catch{}var e9=n(70170),te=n(3240),tt=n(10712),tn=n(61663);let tr="diff_file_tree",ta=(0,c.memo)(ti);function ti({contentId:e,diffs:t,onFileSelected:n,diffsHeader:r,unselectedFileExtensions:a,onFilterTextChange:s,onFileExtensionsChange:o}){let[l,d]=(0,c.useState)(""),{getCommentCountByPath:m}=(0,eP.B)(),u=(0,c.useRef)(null),f=(0,c.useRef)(null),h=(0,c.useRef)(null),p=(0,c.useMemo)(()=>(0,e_.s2)(t),[t]),g=t;a&&a.size>0&&(g=g.filter(e=>!a.has((0,e_.QC)(e.path))));let x=(l?g.filter(e=>e.path.toLowerCase().includes(l.toLowerCase())):g).map(e=>{let t=m(e.path);return{...e,totalCommentsCount:t??0}});return(0,i.jsxs)("div",{className:"d-flex flex-column gap-2",id:tr,tabIndex:-1,children:[(0,i.jsx)(N.ak,{commands:{"pull-requests-diff-file-tree:focus-file-tree":function(){let t=document.getElementById(e),n=document.getElementById(tr),r=!1;if(t?.contains(document.activeElement)&&(r=!0),r){let e=h.current||n;f.current=t?.contains(document.activeElement)?document.activeElement:null,e?.focus()}else{let e=f.current||t;h.current=n?.contains(document.activeElement)?document.activeElement:null,e?.focus()}}}}),(0,i.jsx)("h2",{className:"sr-only",children:"File tree"}),(0,i.jsx)("div",{className:"d-md-none",ref:u,children:r}),(0,i.jsx)(ts,{filterText:l,onFilterTextChange:e=>{d(e),s(e)},fileExtensions:p,unselectedFileExtensions:a,onFileExtensionsChange:o}),(0,i.jsx)(tt.oj,{diffs:x,renderPattern:"traditional",onSelect:e=>{n(e,(0,tn.nn)(window.innerWidth)<=tn.Gy.medium?"close_tree":void 0)}})]})}function ts({filterText:e,onFilterTextChange:t,fileExtensions:n,unselectedFileExtensions:r,onFileExtensionsChange:a}){let s=(0,c.useRef)((0,e9.s)(e=>t(e),250));return(0,i.jsx)(te.kF,{filterText:e,fileExtensions:n,unselectedFileExtensions:r,onFilterTextChange:e=>s.current(e),onFilterChange:(e,t)=>{a(e,t.extension)}})}try{ta.displayName||(ta.displayName="FileTree")}catch{}try{ti.displayName||(ti.displayName="FileTreeUnmemoized")}catch{}try{ts.displayName||(ts.displayName="FileFilter")}catch{}var to=n(5189);async function tl({repo:e,commitOid:t,untilCommentId:n}){let r=await (0,eL.Sr)((0,eH.RD)((0,v.clg)({owner:e.ownerLogin,repo:e.name,commitOid:t,untilCommentId:n})));if(r.ok){let e=await r.json();return(0,eH.Av)(e),e}throw Error("Failed to fetch comment data")}var td=n(62964);let tc={SplitPageLayout_Content:"Commit-module__SplitPageLayout_Content--ZY6yu",HiddenPane:"Commit-module__HiddenPane--_CsIZ",Pane:"Commit-module__Pane--r5DTJ",MobileExpanded:"Commit-module__MobileExpanded--OVBPx",TreeExpanded:"Commit-module__TreeExpanded--asa0G"},tm=(0,b.E7)(),tu="diff-content-parent";function tf(){(0,S.L)(!0);let e=(0,d.B)(),{splitPagePaneHidden:t,splitPageContentHidden:n,treeToggleElement:r,collapseTree:a,isMobileTreeExpanded:o,isTreeExpanded:m}=(0,td.q)(tr,e.fileTreeExpanded,e.currentUser),[u,f]=(0,c.useState)(()=>new Set),[h]=(0,C.I)(()=>!1,!0,[]),[b,T]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[A,R]=(0,c.useState)(!1),P=(0,c.useCallback)((e,t)=>{"close_tree"===t&&a()},[a]),H=function(e){let t=(0,s.t)(),[n,r]=(0,c.useState)({branches:[],tags:[],loading:!0});return(0,c.useEffect)(()=>{let n=!1;return(async()=>{r({branches:[],tags:[],loading:!0});let a=await (0,eL.lS)((0,v.jnS)({owner:t.ownerLogin,repo:t.name,commitish:e}));if(!n)try{if(a.ok){let e=await a.json();e.loading=!1,e&&r({...e,loading:!1})}else r({branches:[],tags:[],loading:!1})}catch{r({branches:[],tags:[],loading:!1})}})(),function(){n=!0}},[t.ownerLogin,t.name,e]),n}(e.commit.oid),B=(0,v.t0c)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid}),{mutate:$}=(0,x.U)({onSuccess:()=>{},onError:()=>{}}),U=(0,y.C0)(e.splitViewPreference),O=(0,c.useMemo)(()=>({hideWhitespace:e.ignoreWhitespace,splitPreference:U,lineSpacing:e.diffLineSpacingPreference,commentsPreference:e.commentsPreference}),[e.commentsPreference,e.diffLineSpacingPreference,e.ignoreWhitespace,U]),{data:z}=(0,y.Pe)(O),V=(0,c.useCallback)(()=>{$({commentsPreference:z?.commentsPreference===y.sI.Visible?y.sI.Collapsed:y.sI.Visible})},[z?.commentsPreference,$]),W=(0,c.useCallback)((e,t)=>{let n=new Set(u);"selectFileExtension"===e?n.delete(t):"unselectFileExtension"===e&&n.add(t),f(n)},[u]);(0,c.useEffect)(()=>{f(new Set)},[e.commit]);let q=e.repo,G=(0,c.useMemo)(()=>({repository:{databaseId:q.id,nwo:`${q.ownerLogin}/${q.name}`,slashCommandsEnabled:!1},type:"commit",id:{id:e.commit.oid}}),[q.id,q.name,q.ownerLogin,e.commit.oid]);(0,c.useEffect)(()=>{(w.cg?.scrollY??0)>0&&w.cg?.scrollTo(0,0)},[e.path]);let{deferredCommentData:Q,state:Y}=function(e,t){let[n,r]=(0,c.useState)(void 0),[a,i]=(0,c.useState)("initial");return(0,c.useEffect)(()=>{let n;r(void 0),i("loading");let a=w.cg?.location.hash;a&&/^#commitcomment-\d+$/.test(a)&&(n=a.replace("#commitcomment-","")),(async()=>{try{let a=await tl({repo:e,commitOid:t,untilCommentId:n});r(a),i("loaded")}catch{i("error")}})()},[t,e]),{deferredCommentData:n,state:a}}(e.repo,e.commit.oid),K=Q?.threadMarkers,X=Q?.inlineComments,[J,Z]=(0,c.useState)(void 0);if((0,c.useEffect)(()=>{if("loaded"===Y){let e=w.cg?.location.hash.slice(1);if(e&&Q){if(/^commitcomment-\d+$/.test(e))Q?.discussionComments.comments.find(t=>t.urlFragment===e)&&w.cg?.requestAnimationFrame(()=>{let t=document.getElementById(e??"");t&&(t.scrollIntoView({block:"center"}),t.focus())});else if(/^r\d+$/.test(e)){let t=e.replace("r","");for(let e of Q.threadMarkers)if(e.threads){for(let n of e.threads)if(n.commentsData.comments){for(let e of n.commentsData.comments)if(e&&e.id&&e.id.toString()===t){Z(n.id);return}}}}}}},[Q,Y]),e.unavailableReason)return(0,i.jsx)(ey,{commit:e.commit,commitInfo:H,unavailableReason:e.unavailableReason});let[ee,et]=function(e){let t=e.findIndex(e=>void 0===e.oldOid)-1;return[-2===t?e:e.slice(0,t+1),e.map(e=>({path:e.path,changeType:e.status,pathDigest:e.pathDigest}))]}(e.diffEntryData);return(0,i.jsx)(L.RelayEnvironmentProvider,{environment:tm,children:(0,i.jsx)(p.uo,{value:G,children:(0,i.jsxs)(eP.r,{initialInlineComments:X,initialFiles:K,initialExpandedThreadId:J,children:[(0,i.jsx)(N.ak,{commands:{"commit-diff-view:create-permalink":()=>{let t=(0,v.$Qz)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid});(0,_.kd)(t)},"commit-diff-view:collapse-expand-comments":V}}),(0,i.jsxs)(k.O7,{children:[(0,i.jsxs)(k.O7.Header,{children:[(0,i.jsx)(F,{commitBranchState:H,oid:e.commit.oid,repo:e.repo}),(0,i.jsx)(eh,{commit:e.commit,commitInfo:H,repo:e.repo})]}),(0,i.jsx)(k.O7.Pane,{position:"start",sticky:!0,divider:{regular:"line",narrow:"none"},widthStorageKey:"diff-tree-pane-width",resizable:!0,className:(0,I.$)(t?tc.HiddenPane:tc.Pane,o&&tc.MobileExpanded,m&&tc.TreeExpanded),children:(0,i.jsx)(l.t,{fallback:(0,i.jsx)("span",{children:"File tree failed to load."}),children:(0,i.jsx)(ta,{contentId:tu,diffs:et,onFileSelected:P,unselectedFileExtensions:u,diffsHeader:(0,i.jsx)(eZ,{treeToggleElement:r,headerInfo:e.headerInfo}),onFileExtensionsChange:W,onFilterTextChange:T})})}),(0,i.jsx)(k.O7.Content,{as:"div",width:"full",hidden:n,padding:"none",className:tc.SplitPageLayout_Content,children:(0,i.jsxs)("div",{id:tu,tabIndex:-1,children:[h?(0,i.jsx)(e3,{diffEntryData:ee,contextLinePathURL:B,repo:e.repo,oid:e.commit.oid,treeToggleElement:r,headerInfo:e.headerInfo,totalFileCount:e.diffEntryData?.length??0}):(0,i.jsx)(g.cP,{searchTerm:D,setSearchTerm:E,children:(0,i.jsx)(e7,{totalFileCount:e.diffEntryData?.length??0,treeToggleElement:r,headerInfo:e.headerInfo,isTreeExpanded:o,searchTerm:D,setSearchTerm:E,ignoreWhitespace:e.ignoreWhitespace,diffEntryData:ee,contextLinePathURL:B,filterTerm:b,unselectedFileExtensions:u,repo:e.repo,oid:e.commit.oid})}),(0,i.jsx)(to.c,{comments:Q?.discussionComments?.comments,commentCount:Q?.discussionComments?.count,canLoadMore:Q?.discussionComments?.canLoadMore,subscribed:Q?.subscribed,providerState:Y,repo:e.repo,commitOid:e.commit.oid,children:(0,i.jsx)(M.$,{commit:e.commit,commentInfo:e.commentInfo})}),(0,i.jsx)(j.nq,{})]})})]})]})})})}try{tf.displayName||(tf.displayName="Commit")}catch{}function th({url:e}){return(0,i.jsx)("div",{className:"text-center",children:(0,i.jsxs)("p",{className:"color-fg-muted f6 mt-4",children:["Seeing something unexpected? Take a look at the",(0,i.jsxs)(W.A,{inline:!0,href:e,children:[" ","GitHub commits guide"]}),"."]})})}try{th.displayName||(th.displayName="CommitHelpMessage")}catch{}let tp=(0,c.createContext)({since:null,until:null,author:null,currentBlobPath:"",pagination:{hasNextPage:!1,hasPreviousPage:!1,endCursor:"",startCursor:""},newPath:null,originalBranch:null});function tg({filters:e,children:t}){return(0,i.jsx)(tp.Provider,{value:e,children:t})}function tx(){return(0,c.useContext)(tp)}try{tp.displayName||(tp.displayName="FilterContext")}catch{}try{tg.displayName||(tg.displayName="FilterProvider")}catch{}var ty=n(44639),tj=n(63867),t_=n(82169),tv=n(34214);function tb(){let e=tx();return e.newPath&&e.originalBranch}function tw(){let e=(0,s.t)(),t=tx();return tb()?(0,i.jsx)(tv.s,{sx:{pt:1,pb:0},children:(0,i.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,i.jsx)(tv.s.Heading,{as:"h3",title:`Renamed to ${t.newPath}`,"data-testid":"commit-note-title"}),(0,i.jsx)(eo.N,{to:(0,v.GpY)({owner:e.ownerLogin,repo:e.name,ref:t.originalBranch,path:t.newPath}),children:"(Browse History)"})]})}):null}function tN(){let e=(0,t_.ej)();return e?.hasRenameCommits?(0,i.jsx)(tv.s,{children:(0,i.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,i.jsx)(tv.s.Heading,{as:"h3",title:`Renamed from ${e?.oldName}`,"data-testid":"commit-note-title"}),(0,i.jsx)(eo.N,{to:e?.historyUrl,children:"(Browse History)"})]})}):null}function tC(){let e=(0,t_.ej)();return e?.hasRenameCommits?null:(0,i.jsx)(tv.s,{clipTimeline:"bottom",children:(0,i.jsx)(tv.s.Heading,{as:"h3",title:"End of commit history for this file","data-testid":"commit-note-title"})})}function tS(){let e=tx(),t=(0,t_.xs)();return!e.currentBlobPath||e.currentBlobPath&&e.pagination.hasNextPage?null:(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(tv.s,{leadingVisual:(0,i.jsx)(tj.A,{size:"small"})}),!t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tN,{}),(0,i.jsx)(tC,{})]})]})}try{tw.displayName||(tw.displayName="RenamedToHistory")}catch{}try{tN.displayName||(tN.displayName="RenamedFromHistory")}catch{}try{tC.displayName||(tC.displayName="EndOfFileHistory")}catch{}try{tS.displayName||(tS.displayName="EndOfFile")}catch{}function tk({commitGroups:e,deferredDataUrl:t,softNavToCommit:n}){let r=tx(),a=(0,s.t)(),o=(0,K.wu)(t);return(0,i.jsxs)("div",{className:"mb-3","data-hpc":!0,children:[(0,i.jsx)(eJ.A,{as:"h2",className:"sr-only",children:"Commit History"}),(0,i.jsx)(ty.f,{leadingContent:(0,i.jsx)(tw,{}),commitGroups:e,trailingContent:(0,i.jsx)(tS,{}),repository:a,deferredCommitData:o,shouldClipTimeline:function(){let e=tb(),t=tx();return!e&&!t.pagination.hasPreviousPage}(),currentBlobPath:r.currentBlobPath,softNavToCommit:n})]})}try{tk.displayName||(tk.displayName="CommitList")}catch{}var tI=n(17500),tL=n(46928),tT=n(70300),tD=n(53904),tE=n(84929),tA=n(96912),tR=n(5225);async function tP(e){let t=await (0,eL.lS)(e);return t.ok?await t.json():void 0}let tF=new Map,tM=(0,tR.A)(tP,{cache:tF});function tH(e,t){let n=new URL(w.fV.origin+w.fV.pathname+w.fV.search,w.fV.origin),r=n.searchParams;for(let e of t)r.has(e)&&r.delete(e);for(let[t,n]of Object.entries(e))r.set(t,n.toString());return n.pathname+n.search}var tB=n(6907);let t$=(0,c.lazy)(()=>Promise.resolve().then(n.bind(n,81020)).then(e=>({default:e.DatePicker}))),tU=()=>(0,i.jsx)(D.A,{icon:m.CalendarIcon,className:"fgColor-muted",sx:{my:"2px"}});function tO({repo:e,refInfo:t,path:n,author:r,contributorsUrl:a,since:o,until:l}){let d=t.name;d===t.currentOid&&(d=(0,X.F)(t.currentOid));let u=(0,tL.Z)(),f=function(e){let t=(0,s.t)(),[n,r]=(0,c.useState)({users:[],error:!1,loading:!0});return(0,c.useEffect)(()=>{let t=!1;return(async()=>{r({users:[],error:!1,loading:!0});let n=await tM(e);if(t)return;let a=[],i=!1;try{n?a=n.authors:i=!0}catch{i=!0}r({users:a,error:i,loading:!1})})(),function(){t=!0}},[t,"",e,"all"]),n}(a),h=c.useMemo(()=>{let e=(0,tE.H)(o??""),t=(0,tE.H)(l??"");return(0,tA.f)(e)&&(0,tA.f)(t)?{from:e,to:t}:null},[o,l]),p=n?.split("/");return(0,i.jsxs)(H.B,{direction:"horizontal",gap:"condensed",justify:"space-between",className:"mb-3",children:[n&&(0,i.jsx)("div",{className:"d-flex flex-items-center",children:(0,i.jsxs)("div",{className:"d-flex flex-items-baseline flex-column flex-sm-row",children:[(0,i.jsx)(eJ.A,{as:"h2",className:"sr-only",children:"Breadcrumbs"}),(0,i.jsx)("span",{className:"fgColor-default no-wrap",children:"History for"}),(0,i.jsxs)(tD.A,{className:"ml-1",children:[(0,i.jsx)(tD.A.Item,{href:(0,v.GpY)({owner:e.ownerLogin,repo:e.name}),children:e.name}),p.map((n,r,a)=>{let s=(0,v.GpY)({owner:e.ownerLogin,repo:e.name,ref:t.name,path:a.slice(0,r+1).join("/")}),o=r===a.length-1;return(0,i.jsx)(tD.A.Item,{sx:{whiteSpace:"normal",...o?{fontWeight:"bold"}:{}},href:s,selected:o,children:n},s)})]}),(0,i.jsxs)("div",{className:"no-wrap",children:[(0,i.jsx)("span",{className:"mr-2 ml-0 ml-sm-2 fgColor-default",children:"on"}),(0,i.jsx)(en.A,{href:(0,v.IO9)({repo:e,commitish:t.name,action:"tree"}),children:d})]})]})}),!n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eJ.A,{as:"h2",className:"sr-only",children:"Branch selector"}),(0,i.jsx)(tI.PI,{cacheKey:t.listCacheKey,canCreate:!1,hotKey:"w",currentCommitish:t.name,getHref:t=>(0,v.GpY)({owner:e.ownerLogin,repo:e.name,ref:t}),selectedRefType:t.refType,defaultBranch:e.defaultBranch,owner:e.ownerLogin,repo:e.name,idEnding:"commits"})]}),(0,i.jsxs)("div",{className:"d-flex flex-column flex-sm-row gap-2",children:[(0,i.jsx)(eJ.A,{as:"h2",className:"sr-only",children:"User selector"}),(0,i.jsx)(tT.T,{defaultText:"All users",width:"medium",usersState:f,showTypedInUser:!0,currentUser:r??void 0,onOpenChange:e=>e,onSelect:e=>{e.login!==r?.login&&u(tH({author:e.login},["author","before","after"]))},renderCustomFooter:()=>(0,i.jsx)(ed.l.LinkItem,{href:tH({},["author"]),"aria-checked":null===r,children:"View commits for all users"})}),(0,i.jsxs)(c.Suspense,{fallback:(0,i.jsx)(V.Q,{leadingVisual:tU,trailingVisual:m.TriangleDownIcon,children:"All time"}),children:[(0,i.jsx)(eJ.A,{as:"h2",className:"sr-only",children:"Datepicker"}),(0,i.jsx)(t$,{variant:"range",value:h,maxDate:new Date,showTodayButton:!0,showClearButton:!0,compressedHeader:!0,onChange:e=>{if(!e){u(tH({},["since","until"]));return}let t=function(e){if(e)return{startDate:(0,tB.x)(e.from,{representation:"date"}),endDate:(0,tB.x)(e.to,{representation:"date"})}}(e);if(!t)return;let{startDate:n,endDate:r}=t;u(tH({since:n,until:r},["before","after"]))},placeholder:"All time",anchor:({children:e,...t})=>(0,i.jsx)(V.Q,{...t,"data-testid":"date-picker-commits",leadingVisual:tU,trailingVisual:m.TriangleDownIcon,children:e})})]})]})]})}try{t$.displayName||(t$.displayName="DatePicker")}catch{}try{tU.displayName||(tU.displayName="StyledCalendarIcon")}catch{}try{tO.displayName||(tO.displayName="ListHeader")}catch{}var tz=n(91321);function tV({paginationInfo:e}){let t=e.hasPreviousPage,n=e.hasNextPage,r=e=>e?{"aria-disabled":!0,sx:{backgroundColor:"transparent",border:"none",cursor:"default",color:"primer.fg.disabled",fontWeight:"normal"},onClick:e=>e.preventDefault()}:{};return t||n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eJ.A,{as:"h2",className:"sr-only",children:"Pagination"}),(0,i.jsx)("div",{className:"d-flex flex-justify-center mt-2",children:(0,i.jsxs)(tz.A,{children:[(0,i.jsx)(V.Q,{as:eo.N,to:tW(e,!1),className:"fgColor-accent text-normal",...r(!t),tabIndex:0,variant:"invisible","data-testid":"pagination-prev-button",leadingVisual:t?()=>(0,i.jsx)(D.A,{icon:m.ChevronLeftIcon,className:"fgColor-accent"}):null,children:"Previous"}),(0,i.jsx)(V.Q,{as:eo.N,to:tW(e,!0),className:"fgColor-accent text-normal",...r(!n),tabIndex:0,variant:"invisible","data-testid":"pagination-next-button",trailingVisual:n?()=>(0,i.jsx)(D.A,{icon:m.ChevronRightIcon,className:"fgColor-accent"}):null,children:"Next"})]})})]}):null}function tW(e,t){return tH(t?{after:e.endCursor}:{before:e.startCursor},[t?"before":"after"])}try{tV.displayName||(tV.displayName="Pagination")}catch{}var tq=n(31655);function tG({children:e,title:t}){return(0,i.jsxs)(tq.M,{rowGap:"none",children:[(0,i.jsx)(tq.M.Header,{divider:"line",sx:{mb:3},children:(0,i.jsx)("div",{className:"d-flex flex-items-center flex-justify-between",children:(0,i.jsx)(eJ.A,{as:"h1",className:"f2 text-normal pb-2",id:"commits-pagehead",children:t})})}),(0,i.jsx)(tq.M.Content,{as:"div",children:(0,i.jsx)("div",{children:e})})]})}try{tG.displayName||(tG.displayName="Layout")}catch{}var tQ=n(47938);function tY(){let e=(0,s.t)(),t=(0,Y.D)(),n=(0,d.B)(),r=n.filters,a=n.commitGroups,o=n.metadata?.softNavToCommit||!1,l=`There isn't any commit history to show here${null!==r.since||null!==r.until?" for the selected date range":""}`;return(0,c.useEffect)(()=>{if(!w.fV.hash&&window.scrollY>0){let e=document.querySelector("#commits-pagehead");e?.scrollIntoView()}},[n.filters.pagination,n.filters.since,n.filters.until]),(0,i.jsx)(tg,{filters:n.filters,children:(0,i.jsxs)(tG,{title:"Commits",children:[(0,i.jsx)(tO,{repo:e,contributorsUrl:n.metadata?.deferredContributorUrl||"",since:r.since,until:r.until,author:r.author,refInfo:n.refInfo,path:r.currentBlobPath}),0===a.length&&(0,i.jsx)(tQ.M,{timeoutMessage:n.timedOutMessage,unavailableMessage:l}),a.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tk,{commitGroups:a,deferredDataUrl:n.metadata?.deferredDataUrl||"",softNavToCommit:o}),(0,i.jsx)(tV,{paginationInfo:r.pagination})]}),n.metadata?.showProfileHelp&&(0,i.jsx)(th,{url:`${t.helpUrl}/articles/troubleshooting-commits-on-your-timeline`})]})})}try{tY.displayName||(tY.displayName="Commits")}catch{}(0,a.o)("commits",()=>({App:h,routes:[(0,r.a)({path:"/:owner/:repo/commits",Component:tY}),(0,r.a)({path:"/:owner/:repo/commits/:ref",Component:tY}),(0,r.a)({path:"/:owner/:repo/commits/:ref/:path/*",Component:tY}),(0,r.a)({path:"/:owner/:repo/commit/:oid",Component:tf}),(0,r.a)({path:"/:owner/:repo/commit/:oid/:path/*",Component:tf}),(0,r.a)({path:"/_view_fragments/Voltron::CommitFragmentsController/show/:owner/:repo/:name/repo_layout",Component:tf})]}))},11086:(e,t,n)=>{n.d(t,{t:()=>a});var r=n(5804);let a=({items:e,filter:t,key:n,secondaryKey:a})=>{let i=e.map(e=>[(0,r.dt)(t,n(e)),e]);return a&&(i=i.map(([e,n])=>[Math.max(e,(0,r.dt)(t,a(n))),n])),i.filter(([e])=>e>r.IP).sort(([e,t],[r,a])=>r===e?n(t).localeCompare(n(a)):r-e).map(([,e])=>e)}},5804:(e,t,n)=>{n.d(t,{Dx:()=>s,IP:()=>i,M4:()=>a,dt:()=>o});var r=n(91385);let a=1/0,i=-1/0,s=1,o=(e,t,n=s)=>{let o=e.trim().toLowerCase(),l=t.trim().toLowerCase();if(o===l)return a;if(0===l.length||0===o.length)return i;let d=(0,r.fN)(o,l);return d===1/0&&o!==l?i:l.startsWith(o)||l.endsWith(o)?d+n:d}},70404:(e,t,n)=>{n.d(t,{S:()=>l,s:()=>o});var r=n(21728),a=n(96540),i=n(46988),s=n(50045);function o(){let e,t;let n=(0,r.c)(6),o=(0,a.useContext)(s.I);if(!o)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:l,category:d,metadata:c}=o;n[0]!==l||n[1]!==d||n[2]!==c?(e=(e,t,n)=>{let r={react:!0,app_name:l,category:d,...c};(0,i.BI)(e,{...r,...void 0===n?{}:n,target:t})},n[0]=l,n[1]=d,n[2]=c,n[3]=e):e=n[3];let m=e;return n[4]!==m?(t={sendAnalyticsEvent:m},n[4]=m,n[5]=t):t=n[5],t}function l(){let e,t;let n=(0,r.c)(4),{sendAnalyticsEvent:a}=o();n[0]!==a?(e=e=>{a("analytics.click",void 0,void 0===e?{}:e)},n[0]=a,n[1]=e):e=n[1];let i=e;return n[2]!==i?(t={sendClickAnalyticsEvent:i},n[2]=i,n[3]=t):t=n[3],t}},27068:(e,t,n)=>{n.d(t,{Y:()=>s});var r=n(96540),a=n(35822);let i=e=>e;function s(e){let t=r.useRef({}),n=r.useRef({}),s=(e,n)=>{t.current[e](n)},o=r.useRef(s);o.current=s;let l=r.useRef(new ResizeObserver(e=>{for(let t of e){let e=t.target,n="data-key",r=e.getAttribute(n);if(null===r)throw Error(`Value not found, for '${n}' attribute`);o.current(r,e)}}));r.useEffect(()=>{let e=l.current;return()=>{e.disconnect()}},[]);let{size:d,keyExtractor:c=i}=e,m=r.useMemo(()=>{let e=e=>t=>{n.current[e]&&l.current.unobserve(n.current[e]),t&&(o.current(e,t),l.current.observe(t)),n.current[e]=t},t={};for(let n=0;n<d;n++){let r=c(n);t[r]=e(r)}return t},[d,c]),u=(0,a.z)(e),f=u.virtualItems.map(e=>(t.current[e.key]=e.measureRef,{...e,measureRef:m[e.key]}));return{...u,virtualItems:f}}},72777:(e,t,n)=>{n.d(t,{h:()=>s});var r=n(38568),a=n(96540),i=n(35822);function s({additionalScrollOffset:e=0,scrollToFn:t,horizontal:n,parentRef:s,shouldUseScrollRef:o=!0,useVirtualImpl:l=i.z,...d}){let c=(0,a.useRef)(window),m=(0,a.useCallback)(()=>{let e=s.current?.getBoundingClientRect(),t=e?.top??0,r=e?.left??0;return n?-1*r:-1*t},[n,s]),u=(0,a.useCallback)(t=>{let r=t+((s.current?.getBoundingClientRect().top??0)+window.scrollY)+e;c.current?.scroll({top:n?0:r,left:n?r:0})},[e,n,s]);return l({...d,horizontal:n,parentRef:s,scrollToFn:t||u,onScrollElement:o?c:void 0,scrollOffsetFn:m,useObserver:()=>(function(e){let[t,n]=(0,a.useState)({height:0,width:0}),i=e.current;return(0,r.N)(()=>{if(!i)return;let e=()=>{let e={height:i.innerHeight,width:i.innerWidth};n(t=>t.height!==e.height||t.width!==e.width?e:t)};return e(),i.addEventListener("resize",e),()=>{i.removeEventListener("resize",e)}},[i]),t})(c)})}},70300:(e,t,n)=>{n.d(t,{T:()=>b});var r=n(74848),a=n(21728),i=n(62456),s=n(38621),o=n(75177),l=n(89323),d=n(8338),c=n(9591),m=n(46309),u=n(63867),f=n(65481),h=n(96540),p=n(88764);let g=h.memo(function(e){let t,n,s,o,l;let c=(0,a.c)(17),{user:m,isCurrent:u,onSelect:f,shouldSetAsDiv:h}=e,p=h?"div":"li";c[0]!==f||c[1]!==m?(t=()=>{f&&f(m)},c[0]=f,c[1]=m,c[2]=t):t=c[2];let g=m.primaryAvatarUrl;return c[3]!==m.path?(n=m.path.startsWith("/apps/"),c[3]=m.path,c[4]=n):n=c[4],c[5]!==n||c[6]!==m.primaryAvatarUrl?(s=(0,r.jsx)(d.l.LeadingVisual,{children:(0,r.jsx)(i.r,{src:g,square:n})}),c[5]=n,c[6]=m.primaryAvatarUrl,c[7]=s):s=c[7],c[8]!==m.name?(o=(0,r.jsx)(d.l.Description,{truncate:!0,children:m.name}),c[8]=m.name,c[9]=o):o=c[9],c[10]!==u||c[11]!==p||c[12]!==t||c[13]!==s||c[14]!==o||c[15]!==m.login?(l=(0,r.jsxs)(d.l.Item,{as:p,selected:u,onSelect:t,children:[s,m.login,o]}),c[10]=u,c[11]=p,c[12]=t,c[13]=s,c[14]=o,c[15]=m.login,c[16]=l):l=c[16],l});try{g.displayName||(g.displayName="UserItem")}catch{}function x(e){let t;let n=(0,a.c)(2);return n[0]!==e?(t=e.users.length>20?(0,r.jsx)(j,{...e}):(0,r.jsx)(y,{...e}),n[0]=e,n[1]=t):t=n[1],t}function y(e){let t,n,i;let s=(0,a.c)(12),{users:l,currentUser:d,onSelect:c,sx:m}=e;if(s[0]!==m?(t={maxHeight:330,overflowY:"auto",...m},s[0]=m,s[1]=t):t=s[1],s[2]!==d?.login||s[3]!==c||s[4]!==l){let e;s[6]!==d?.login||s[7]!==c?(e=e=>(0,r.jsx)(g,{user:e,isCurrent:e.login===d?.login,onSelect:c},e.login),s[6]=d?.login,s[7]=c,s[8]=e):e=s[8],n=l.map(e),s[2]=d?.login,s[3]=c,s[4]=l,s[5]=n}else n=s[5];return s[9]!==t||s[10]!==n?(i=(0,r.jsx)(o.A,{sx:t,children:n}),s[9]=t,s[10]=n,s[11]=i):i=s[11],i}function j(e){let t,n,i;let s=(0,a.c)(9),{users:o,currentUser:l,onSelect:d,sx:c}=e;return s[0]!==c?(t={maxHeight:330,overflowY:"auto",...c},s[0]=c,s[1]=t):t=s[1],s[2]!==l?.login||s[3]!==d?(n=e=>(0,r.jsx)(g,{user:e,isCurrent:e.login===l?.login,onSelect:d,shouldSetAsDiv:!0},e.login),s[2]=l?.login,s[3]=d,s[4]=n):n=s[4],s[5]!==t||s[6]!==n||s[7]!==o?(i=(0,r.jsx)(p.F,{items:o,itemHeight:33,sx:t,makeKey:_,renderItem:n}),s[5]=t,s[6]=n,s[7]=o,s[8]=i):i=s[8],i}function _(e){return e.login}try{x.displayName||(x.displayName="UsersList")}catch{}try{y.displayName||(y.displayName="FullUsersList")}catch{}try{j.displayName||(j.displayName="VirtualUsersList")}catch{}var v=n(13080);function b(e){var t;let n,c,m,u,f,p,g,y,j,_,b,I,L,T,D,E,A,R,P,F;let M=(0,a.c)(59),{defaultText:H,usersState:B,currentUser:$,onSelect:U,hotKey:O,onOpenChange:z,renderCustomFooter:V,size:W,showTypedInUser:q,width:G,label:Q}=e,Y=void 0!==q&&q,K=void 0===G?"large":G,X=void 0===Q?"":Q,[J,Z]=(0,h.useState)("");M[0]!==J||M[1]!==Y||M[2]!==B.users?(n=function(e,t){if(!e)return[];let n=t.trim().toLowerCase();return n?e.filter(e=>e.login.toLowerCase().includes(n)||e.name?.toLowerCase().includes(n)):e}(B.users,J),c=Y&&(t=n,!!J&&(0===t.length||t.length>1||1===t.length&&!!t[0]&&t[0].login.toLowerCase()!==J.toLowerCase())),M[0]=J,M[1]=Y,M[2]=B.users,M[3]=n,M[4]=c):(n=M[3],c=M[4]);let ee=c,et=0===n.length&&!ee;return m=!B.loading&&!B.error&&et,M[5]!==m?(u=()=>{m&&(0,v.i)("Nothing to show")},M[5]=m,M[6]=u):u=M[6],M[7]!==m||M[8]!==J?(f=[m,J],M[7]=m,M[8]=J,M[9]=f):f=M[9],(0,h.useEffect)(u,f),M[10]!==m||M[11]!==z?(p=e=>{z&&z(e),m&&(0,v.i)("Nothing to show")},M[10]=m,M[11]=z,M[12]=p):p=M[12],M[13]!==$?(g=(0,r.jsx)("div",{className:"mr-2",children:$?(0,r.jsx)(i.r,{size:16,src:$.primaryAvatarUrl,square:$.path.startsWith("/apps/")}):(0,r.jsx)(s.PeopleIcon,{size:"small",className:"fgColor-muted"})}),M[13]=$,M[14]=g):g=M[14],M[15]===Symbol.for("react.memo_cache_sentinel")?(y={maxWidth:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},M[15]=y):y=M[15],M[16]!==$||M[17]!==H||M[18]!==X?(j=(0,r.jsx)(o.A,{sx:y,children:$?(0,r.jsxs)("span",{children:[X,$.login]}):(0,r.jsx)("span",{children:H})}),M[16]=$,M[17]=H,M[18]=X,M[19]=j):j=M[19],M[20]!==j||M[21]!==g?(_=(0,r.jsxs)("div",{className:"d-flex",children:[g,j]}),M[20]=j,M[21]=g,M[22]=_):_=M[22],M[23]!==O||M[24]!==W||M[25]!==_?(b=(0,r.jsx)(l.W.Button,{"data-hotkey":O,size:W,"data-testid":"user-selector-button",children:_}),M[23]=O,M[24]=W,M[25]=_,M[26]=b):b=M[26],M[27]!==J?(I=(0,r.jsx)(w,{defaultText:J,onFilterChange:Z}),M[27]=J,M[28]=I):I=M[28],M[29]===Symbol.for("react.memo_cache_sentinel")?(L=(0,r.jsx)(d.l.Divider,{}),M[29]=L):L=M[29],M[30]!==J||M[31]!==U||M[32]!==ee||M[33]!==et||M[34]!==B.error||M[35]!==B.loading?(T=B.loading?(0,r.jsx)(N,{}):B.error?(0,r.jsx)(C,{}):(0,r.jsxs)(r.Fragment,{children:[et&&(0,r.jsx)(S,{}),ee&&(0,r.jsx)(k,{filterText:J,onSelect:U})]}),M[30]=J,M[31]=U,M[32]=ee,M[33]=et,M[34]=B.error,M[35]=B.loading,M[36]=T):T=M[36],M[37]!==$||M[38]!==n||M[39]!==U||M[40]!==V?(D=n.length>0&&(0,r.jsx)(x,{users:n,currentUser:$,onSelect:U,sx:V?{pb:"10px",pt:1}:{pt:1}}),M[37]=$,M[38]=n,M[39]=U,M[40]=V,M[41]=D):D=M[41],M[42]!==V?(E=V&&(0,r.jsx)(d.l.Divider,{sx:{marginTop:0}}),M[42]=V,M[43]=E):E=M[43],M[44]!==V?(A=V?.(),M[44]=V,M[45]=A):A=M[45],M[46]!==I||M[47]!==T||M[48]!==D||M[49]!==E||M[50]!==A?(R=(0,r.jsxs)(d.l,{showDividers:!0,selectionVariant:"single",children:[I,L,T,D,E,A]}),M[46]=I,M[47]=T,M[48]=D,M[49]=E,M[50]=A,M[51]=R):R=M[51],M[52]!==R||M[53]!==K?(P=(0,r.jsx)(l.W.Overlay,{width:K,children:R}),M[52]=R,M[53]=K,M[54]=P):P=M[54],M[55]!==b||M[56]!==P||M[57]!==p?(F=(0,r.jsx)("div",{children:(0,r.jsxs)(l.W,{onOpenChange:p,children:[b,P]})}),M[55]=b,M[56]=P,M[57]=p,M[58]=F):F=M[58],F}function w(e){let t,n,i,o;let l=(0,a.c)(7),{onFilterChange:m,defaultText:u}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(t={px:2},l[0]=t):t=l[0],l[1]===Symbol.for("react.memo_cache_sentinel")?(n={width:"100%"},l[1]=n):n=l[1],l[2]!==m?(i=e=>m(e.target.value),l[2]=m,l[3]=i):i=l[3],l[4]!==u||l[5]!==i?(o=(0,r.jsx)(d.l.Group,{sx:t,children:(0,r.jsx)(c.A,{leadingVisual:s.SearchIcon,value:u,sx:n,placeholder:"Find a user...",onChange:i})}),l[4]=u,l[5]=i,l[6]=o):o=l[6],o}function N(){let e;let t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(m.B,{justify:"center",className:"p-2",children:(0,r.jsx)(u.A,{size:"medium",srText:"Loading users..."})}),t[0]=e):e=t[0],e}function C(){let e;let t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(f.A,{variant:"danger",children:"Could not load users"}),t[0]=e):e=t[0],e}function S(){let e;let t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(m.B,{justify:"center",className:"p-3",children:"Nothing to show"}),t[0]=e):e=t[0],e}function k(e){let t,n,i,s;let o=(0,a.c)(9),{filterText:l,onSelect:c}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",justifyContent:"center",mb:2},o[0]=t):t=o[0],o[1]!==l||o[2]!==c?(n=()=>{c&&c({login:l,name:l,path:"",primaryAvatarUrl:""})},o[1]=l,o[2]=c,o[3]=n):n=o[3],o[4]!==l?(i=(0,r.jsxs)(r.Fragment,{children:["Filter on author\xa0",(0,r.jsx)("span",{className:"text-bold",children:l})]}),o[4]=l,o[5]=i):i=o[5],o[6]!==n||o[7]!==i?(s=(0,r.jsx)(d.l.Item,{sx:t,onSelect:n,children:i}),o[6]=n,o[7]=i,o[8]=s):s=o[8],s}try{b.displayName||(b.displayName="UserSelector")}catch{}try{w.displayName||(w.displayName="UserFilter")}catch{}try{N.displayName||(N.displayName="Loading")}catch{}try{C.displayName||(C.displayName="LoadingFailed")}catch{}try{S.displayName||(S.displayName="UsersZeroState")}catch{}try{k.displayName||(k.displayName="UsersTypedInUser")}catch{}},57572:(e,t,n)=>{function r(e,t={}){!function(e){if(new URL(e,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch")}(e);let n=function(e){let t=new URL(e,window.location.href),n=new URL(window.location.href,window.location.origin),r=n.searchParams.get("_features");r&&!t.searchParams.has("_features")&&t.searchParams.set("_features",r);let a=n.searchParams.get("_tracing");return a&&!t.searchParams.has("_tracing")&&t.searchParams.set("_tracing",a),e.startsWith(window.location.origin)?t.href:`${t.pathname}${t.search}`}(e),a={...t.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(n,{...t,headers:a})}function a(e,t){let n={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},a=t?.body?JSON.stringify(t.body):void 0;return r(e,{...t,body:a,headers:n})}function i(e,t={}){let n={...t.headers,"GitHub-Is-React":"true"};return r(e,{...t,headers:n})}function s(e,t){let n={...t?.headers??{},"GitHub-Is-React":"true"};return a(e,{...t,headers:n})}n.d(t,{DI:()=>r,QJ:()=>i,Sr:()=>s,lS:()=>a})},62456:(e,t,n)=>{n.d(t,{r:()=>o});var r=n(74848),a=n(47584),i=n(47258),s=n(96540);let o=(0,s.forwardRef)(function({src:e,size:t=20,...n},o){let l=(0,s.useMemo)(()=>{let n=new URL(e,a.fV.origin);return n.searchParams.has("size")||n.searchParams.has("s")||n.searchParams.set("size",String(2*Number(t))),n.toString()},[e,t]);return(0,r.jsx)(i.A,{ref:o,src:l,size:t,"data-testid":"github-avatar",...n})});try{o.displayName||(o.displayName="GitHubAvatar")}catch{}},44968:(e,t,n)=>{n.d(t,{mo:()=>f,oG:()=>c,yx:()=>m});var r,a=n(74848),i=n(75177),s=n(52464),o=n(99418),l=n(96540);function d(e){if("html"in e&&void 0!==e.html){let{html:t,...n}=e;return{safeHTML:t,props:n}}let{unverifiedHTML:t,unverifiedHTMLConfig:n,...r}=e,a={...n,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{safeHTML:o.default.sanitize(t,a),props:r}}let c=u(i.A);c.displayName="SafeHTMLBox";let m=u(s.A);function u(e){return(0,l.forwardRef)((t,n)=>{let{safeHTML:r,props:i}=d(t);return(0,a.jsx)(e,{ref:n,...i,dangerouslySetInnerHTML:r?{__html:r}:void 0})})}m.displayName="SafeHTMLText";let f=(0,l.forwardRef)((e,t)=>{let{safeHTML:n,props:r}=d(e);return(0,a.jsx)("div",{ref:t,...r,dangerouslySetInnerHTML:n?{__html:n}:void 0})});f.displayName="SafeHTMLDiv";try{(r=SafeHTMLComponent).displayName||(r.displayName="SafeHTMLComponent")}catch{}},34407:(e,t,n)=>{n.d(t,{O:()=>m});var r=n(75177),a=n(59299),i=n(44999),s=n(38267);let o=(0,s.i7)(["0%{transform:translateX(-100%);}50%{transform:translateX(100%);}100%{transform:translateX(100%);}"]),l=(0,s.AH)(["animation:"," 1.5s infinite linear;"],o),d=(0,s.i7)(["0%{opacity:.3;}10%{opacity:1;}100%{opacity:.3;}"]),c=(0,s.AH)(["animation:"," 2s infinite linear;"],d),m=(0,s.Ay)(r.A).withConfig({displayName:"LoadingSkeleton",componentId:"sc-bcbf24f9-0"})(["position:relative;overflow:hidden;mask-image:radial-gradient(white,black);",";&::after{",";background:linear-gradient(90deg,transparent,",",transparent);content:'';position:absolute;transform:translateX(-100%);bottom:0;left:0;right:0;top:0;}background-color:",";border-radius:",";display:block;height:1.2em;"," width:",";height:",";",""],({animationStyle:e})=>"pulse"===e&&c,({animationStyle:e})=>"pulse"!==e&&l,(0,a.Jt)("colors.neutral.subtle"),(0,a.Jt)("colors.neutral.subtle"),({theme:e,variant:t})=>{switch(t){case"rounded":return(0,a.Jt)("radii.1")(e);case"pill":return"100px";case"elliptical":return"50%";default:return"0"}},({variant:e})=>"elliptical"===e&&{borderRadius:"50%"},({width:e})=>{switch(e){case"random":return`${Math.floor(40*Math.random()+40)}%`;case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},({height:e})=>{switch(e){case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},i.A);try{m.displayName||(m.displayName="LoadingSkeleton")}catch{}},6907:(e,t,n)=>{n.d(t,{x:()=>i});var r=n(2642),a=n(50622);function i(e,t){let n=(0,r.a)(e);if(isNaN(n.getTime()))throw RangeError("Invalid time value");let i=t?.format??"extended",s=t?.representation??"complete",o="",l="",d="extended"===i?"-":"";if("time"!==s){let e=(0,a.F)(n.getDate(),2),t=(0,a.F)(n.getMonth()+1,2),r=(0,a.F)(n.getFullYear(),4);o=`${r}${d}${t}${d}${e}`}if("date"!==s){let e=n.getTimezoneOffset();if(0!==e){let t=Math.abs(e),n=(0,a.F)(Math.trunc(t/60),2),r=(0,a.F)(t%60,2);l=`${e<0?"+":"-"}${n}:${r}`}else l="Z";let t=(0,a.F)(n.getHours(),2),r=(0,a.F)(n.getMinutes(),2),s=(0,a.F)(n.getSeconds(),2),d=""===o?"":"T",c=[t,r,s].join("extended"===i?":":"");o=`${o}${d}${c}${l}`}return o}}},e=>{var t=t=>e(e.s=t);e.O(0,["primer-react","react-core","react-lib","octicons-react","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-1d3d52","vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-b1c483","vendors-node_modules_github_catalyst_lib_index_js-node_modules_primer_live-region-element_dis-b2aea6","vendors-node_modules_dompurify_dist_purify_es_mjs","vendors-node_modules_lodash-es__Stack_js-node_modules_lodash-es__Uint8Array_js-node_modules_l-4faaa6","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_tanstack_query-core_build_modern_queryObserver_js-node_modules_tanstack_-defd52","vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_lodash-es__isIterateeCa-89abd9","vendors-node_modules_github_hotkey_dist_index_js-node_modules_date-fns_getDaysInMonth_mjs-nod-70c11b","vendors-node_modules_lodash-es_isEqual_js","vendors-node_modules_dnd-kit_modifiers_dist_modifiers_esm_js-node_modules_dnd-kit_sortable_di-72228e","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec","vendors-node_modules_react-relay_index_js","vendors-node_modules_fzy_js_index_js-node_modules_github_paste-markdown_dist_index_js","vendors-node_modules_react-relay_hooks_js-node_modules_github_combobox-nav_dist_index_js-node-7cf4b2","vendors-node_modules_tanstack_react-query_build_modern_queryOptions_js-node_modules_react-int-52413b","vendors-node_modules_github_quote-selection_dist_index_js-node_modules_tanstack_react-query_b-95433e","ui_packages_failbot_failbot_ts","ui_packages_document-metadata_document-metadata_ts-ui_packages_history_history_ts-ui_packages-417c81","ui_packages_paths_index_ts","ui_packages_ui-commands_ui-commands_ts","ui_packages_date-picker_date-picker_ts","ui_packages_drag-and-drop_drag-and-drop_ts-ui_packages_hydro-analytics_hydro-analytics_ts","ui_packages_list-view_src_hooks_use-next-header-tag_ts-ui_packages_list-view_src_ListItem_Lis-0a5d95","ui_packages_item-picker_components_RepositoryPicker_tsx","ui_packages_ref-selector_RefSelector_tsx","ui_packages_comment-box_api_file-upload_ts-ui_packages_comment-box_api_preview_ts-ui_packages-a6d8e9","ui_packages_hovercards_hovercards_ts-ui_packages_reaction-viewer_utils_ReactionGroups_ts-ui_p-b74207","ui_packages_app-uuid_app-uuid_ts-ui_packages_signed-commit-badge_index_ts-ui_packages_use-nav-07c073","ui_packages_code-view-shared_utilities_web-worker_ts-ui_packages_diff-file-header_diff-file-h-519377","ui_packages_commit-attribution_index_ts-ui_packages_commit-checks-status_index_ts-ui_packages-762eaa","ui_packages_commits_shared_use-load-deferred-commit-data_ts-ui_packages_diff-lines_diff-lines-cda511"],()=>t(11070)),e.O()}]);
//# sourceMappingURL=commits-cefb6ecb4c16.js.map