"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_code-view-shared_utilities_web-worker_ts-ui_packages_diff-file-header_diff-file-h-519377","ui_packages_diffs_diff-parts_ts"],{73412:(e,t,i)=>{function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{z:()=>WebWorker});let WebWorker=class WebWorker{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){l(this,"worker",void 0);try{this.worker=new Worker(`${e}?module=true`,{type:"module"})}catch{console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new MainThreadWorker(t)}}};let MainThreadWorker=class MainThreadWorker{async postMessage(e){if(this.terminated)return;let t={data:this.job({data:e})};this.onmessage?.(t)}terminate(){this.terminated=!0}constructor(e){l(this,"terminated",!1),l(this,"onmessage",void 0),this.job=e}}},1977:(e,t,i)=>{i.d(t,{B:()=>p,C:()=>x});var l=i(74848),n=i(21728),r=i(34164),o=i(38621),a=i(34614),s=i(23976),d=i(42522),c=i(84),f=i(69710),u=i(26514);let h={"diff-file-header":"DiffFileHeader-module__diff-file-header--TjXyn",collapsed:"DiffFileHeader-module__collapsed--FPwYM","file-name":"DiffFileHeader-module__file-name--mY1O5"};function m(e){let t,i;let r=(0,n.c)(13),{newPath:a,oldPath:s,status:d}=e;r[0]!==a?(t=(0,l.jsxs)(l.Fragment,{children:["\u200E",a]}),r[0]=a,r[1]=t):t=r[1];let c=t;r[2]!==s?(i=(0,l.jsxs)(l.Fragment,{children:["\u200E",s]}),r[2]=s,r[3]=i):i=r[3];let f=i;if("RENAMED"===d){let e,t,i;return r[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(o.ArrowRightIcon,{}),t=(0,l.jsx)("span",{className:"sr-only",children:"renamed to "}),r[4]=e,r[5]=t):(e=r[4],t=r[5]),r[6]!==c||r[7]!==f?(i=(0,l.jsxs)("code",{children:[f," ",e,t,c]}),r[6]=c,r[7]=f,r[8]=i):i=r[8],i}if("DELETED"===d||"REMOVED"===d){let e;return r[9]!==f?(e=(0,l.jsx)("code",{children:f}),r[9]=f,r[10]=e):e=r[10],e}{let e;return r[11]!==c?(e=(0,l.jsx)("code",{children:c}),r[11]=c,r[12]=e):e=r[12],e}}function p(e){let t,i,p,x,y,g,b,j,N,v,C,_,w,D,T,k,I,S;let E=(0,n.c)(68),{additionalLeftSideContent:L,areLinesExpanded:$,canExpandOrCollapseLines:A,className:H,diffStatsProps:O,defaultToRichDiff:B,isBinary:M,isSubmodule:P,isCollapsed:W,canToggleRichDiff:F,headingId:U,linesAdded:z,linesChanged:K,linesDeleted:R,fileLinkHref:q,fileLinkRef:J,newMode:V,newPath:Y,oldMode:G,oldPath:X,onCopyPath:Q,onHeaderClick:Z,onToggleDiffDisplay:ee,onToggleExpandAllLines:et,onToggleFileCollapsed:ei,patchStatus:el,path:en,rightSideContent:er,size:eo}=e,ea=eo&&"-"===eo[0],es=W?h.collapsed:"";E[0]!==H||E[1]!==es?(t=(0,r.$)(h["diff-file-header"],es,"flex-wrap flex-sm-nowrap",H),E[0]=H,E[1]=es,E[2]=t):t=E[2];let ed=W?`Expand file: ${en}`:`Collapse file: ${en}`;E[3]!==W?(i=W?(0,l.jsx)(o.ChevronRightIcon,{}):(0,l.jsx)(o.ChevronDownIcon,{}),E[3]=W,E[4]=i):i=E[4],E[5]!==ei||E[6]!==ed||E[7]!==i?(p=(0,l.jsx)("button",{onClick:ei,className:"Button Button--iconOnly Button--invisible flex-shrink-0 flex-order-1","aria-label":ed,children:i}),E[5]=ei,E[6]=ed,E[7]=i,E[8]=p):p=E[8],E[9]===Symbol.for("react.memo_cache_sentinel")?(x=(0,r.$)(h["file-name"]),E[9]=x):x=E[9],E[10]!==Y||E[11]!==X||E[12]!==el?(y=(0,l.jsx)(m,{newPath:Y,oldPath:X,status:el}),E[10]=Y,E[11]=X,E[12]=el,E[13]=y):y=E[13],E[14]!==q||E[15]!==J||E[16]!==Z||E[17]!==y?(g=(0,l.jsx)(a.A,{className:"Link--primary",href:q,onClick:Z,ref:J,"data-analytics-opt-out":!0,children:y}),E[14]=q,E[15]=J,E[16]=Z,E[17]=y,E[18]=g):g=E[18],E[19]!==U||E[20]!==g?(b=(0,l.jsx)("h3",{id:U,className:x,children:g}),E[19]=U,E[20]=g,E[21]=b):b=E[21];let ec=Y??X??"";return E[22]===Symbol.for("react.memo_cache_sentinel")?(j={direction:"s"},E[22]=j):j=E[22],E[23]!==Q||E[24]!==ec?(N=(0,l.jsx)(u.T,{className:"ml-1 flex-shrink-0",textToCopy:ec,ariaLabel:"Copy file name to clipboard",tooltipProps:j,onCopy:Q}),E[23]=Q,E[24]=ec,E[25]=N):N=E[25],E[26]!==V||E[27]!==G||E[28]!==el?(v=(0,c.AL)(el,G,V)&&(0,l.jsxs)("div",{className:"p-2",children:[(0,l.jsx)("code",{children:G}),(0,l.jsx)(o.ArrowRightIcon,{className:"mx-1"}),(0,l.jsx)("code",{children:V})]}),E[26]=V,E[27]=G,E[28]=el,E[29]=v):v=E[29],E[30]!==$||E[31]!==A||E[32]!==et||E[33]!==en?(C=A&&et&&(0,l.jsx)(d.m,{text:$?`Collapse non-diff lines: ${en}`:`Expand all lines: ${en}`,direction:"s",children:(0,l.jsx)("button",{onClick:et,className:`Button Button--iconOnly Button--invisible flex-shrink-0 ${$?"":"js-expand-all-difflines-button"}`,"aria-label":$?`Collapse non-diff lines: ${en}`:`Expand all lines: ${en}`,"data-file-path":en,children:$?(0,l.jsx)(o.FoldIcon,{}):(0,l.jsx)(o.UnfoldIcon,{})})}),E[30]=$,E[31]=A,E[32]=et,E[33]=en,E[34]=C):C=E[34],E[35]!==N||E[36]!==v||E[37]!==C||E[38]!==b?(_=(0,l.jsxs)("div",{className:"d-flex px-1 flex-items-center overflow-hidden flex-order-2 flex-sm-order-1",children:[b,N,v,C]}),E[35]=N,E[36]=v,E[37]=C,E[38]=b,E[39]=_):_=E[39],E[40]!==O||E[41]!==P||E[42]!==z||E[43]!==K||E[44]!==R?(w=!P&&(0,l.jsx)(f.z,{linesAdded:z,linesDeleted:R,linesChanged:K,tooltipDirection:"sw",...O}),E[40]=O,E[41]=P,E[42]=z,E[43]=K,E[44]=R,E[45]=w):w=E[45],E[46]!==w?(D=(0,l.jsx)("div",{className:"d-flex mr-2 flex-justify-end flex-items-center flex-1",children:w}),E[46]=w,E[47]=D):D=E[47],E[48]!==M||E[49]!==ea||E[50]!==er||E[51]!==eo?(T=M&&(0,l.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,l.jsx)("code",{className:(0,r.$)("px-2",ea&&"fgColor-danger",!ea&&"fgColor-success"),children:`${eo}`}),er]}),E[48]=M,E[49]=ea,E[50]=er,E[51]=eo,E[52]=T):T=E[52],E[53]!==F||E[54]!==B||E[55]!==ee?(k=F&&(0,l.jsxs)(s.I,{"aria-label":"File view",size:"small",className:"mx-2",onChange:ee?e=>ee(1===e):void 0,children:[(0,l.jsx)(s.I.IconButton,{"aria-label":"Display the source diff",defaultSelected:!B,icon:o.CodeIcon}),(0,l.jsx)(s.I.IconButton,{"aria-label":"Display the rich diff",defaultSelected:B,icon:o.FileIcon})]}),E[53]=F,E[54]=B,E[55]=ee,E[56]=k):k=E[56],E[57]!==er||E[58]!==D||E[59]!==T||E[60]!==k?(I=(0,l.jsxs)("div",{className:"d-flex flex-row flex-justify-end flex-1 flex-order-1 flex-sm-order-2 flex-items-center",children:[D,T,k,er]}),E[57]=er,E[58]=D,E[59]=T,E[60]=k,E[61]=I):I=E[61],E[62]!==L||E[63]!==_||E[64]!==t||E[65]!==I||E[66]!==p?(S=(0,l.jsxs)("div",{className:t,children:[p,L,_,I]}),E[62]=L,E[63]=_,E[64]=t,E[65]=I,E[66]=p,E[67]=S):S=E[67],S}try{m.displayName||(m.displayName="FileName")}catch{}try{p.displayName||(p.displayName="DiffFileHeader")}catch{}function x(e){let t,i;let o=(0,n.c)(6),{children:a,isAddition:s,className:d}=e,c=s?"fgColor-success":"fgColor-danger";return o[0]!==d||o[1]!==c?(t=(0,r.$)("ml-1 text-small text-bold",c,d),o[0]=d,o[1]=c,o[2]=t):t=o[2],o[3]!==a||o[4]!==t?(i=(0,l.jsx)("div",{className:t,children:a}),o[3]=a,o[4]=t,o[5]=i):i=o[5],i}try{x.displayName||(x.displayName="LinesChangedCounterLabel")}catch{}},84:(e,t,i)=>{function l(e){return void 0!==e.linesChanged&&0!==e.linesChanged}function n(e,t,i){return"MODIFIED"===e&&t!==i}function r(e,t,i,n){return"MODIFIED"===t&&i!==n&&!l(e)}function o(e){return"COPIED"===e.status&&!l(e)}function a(e){return"RENAMED"===e.status&&!l(e)}function s(e){return!!e.oldTreeEntry&&null===e.newTreeEntry}function d(e){return!!e.truncatedReason}i.d(t,{AL:()=>n,HI:()=>d,Jc:()=>o,Sn:()=>r,dK:()=>a,lO:()=>s,l_:()=>u,s8:()=>m,xW:()=>h});let c=["maximum diff size exceeded.","maximum number of lines exceeded."],f=/^maximum file count exceeded/;function u(e){let t=e;return c.includes(e)?t="This diff could not be loaded automatically because of too many other changes.":f.test(e)&&(t="This diff could not be loaded automatically because of too many other files to display."),t}function h(e){return!!e.newTreeEntry?.isGenerated}function m(e){return 0===e.linesChanged}},67220:(e,t,i)=>{function l(e){return`line-${e}`}function n(e,t,i){return`${e}${"left"===t?"L":"R"}${i}`}function r(e){return"DELETION"===e?"left":"right"}function o(e,t=!1,i=!1){if(i)return"var(--bgColor-attention-muted, var(--color-attention-subtle))";switch(e){case"ADDITION":return t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";case"DELETION":return t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";case"HUNK":return t?"var(--diffBlob-hunkNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";case"EMPTY":return t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";default:return}}function a(e){let t=0;if(e)for(let i of e)t=Math.max(t,i?.left??0,i?.right??0);return Math.max(8*t.toString().length+20,40).toString()}i.d(t,{IQ:()=>n,Sq:()=>l,XU:()=>r,c7:()=>a,gK:()=>o})},73974:(e,t,i)=>{i.d(t,{Jg:()=>c,nq:()=>u,uP:()=>h.u,$e:()=>y,P3:()=>p,wj:()=>g,l4:()=>_,Qe:()=>b,Ah:()=>D});var l=i(74848),n=i(21728),r=i(34164),o=i(44968),a=i(67220);let s=e=>{let t,i,s,d,c,f,u,h,m,p;let x=(0,n.c)(34),{dragging:y,isHighlighted:g,isLeftColumn:b,colSpan:j,line:N,lineAnchor:v}=e,C=N.html,_="";if(["ADDITION","DELETION"].includes(N.type)&&["+","-"].includes(C[0])){let e;_=C[0],x[0]!==C?(e=C.slice(1),x[0]=C,x[1]=e):e=x[1],C=e}let w=y&&g,D=b&&"HUNK"!==N.type;x[2]!==w||x[3]!==D?(t=(0,r.$)("diff-text-cell",{"border-left color-border-accent-emphasis":w,"border-right":D}),x[2]=w,x[3]=D,x[4]=t):t=x[4],x[5]!==v?(i=v?(0,a.Sq)(v):void 0,x[5]=v,x[6]=i):i=x[6],x[7]!==g||x[8]!==N.type?(s=(0,a.gK)(N.type,!1,g),x[7]=g,x[8]=N.type,x[9]=s):s=x[9],x[10]!==s?(d={backgroundColor:s},x[10]=s,x[11]=d):d=x[11];let T=_,k="ADDITION"===N.type,I="DELETION"===N.type;x[12]!==k||x[13]!==I?(c=(0,r.$)("diff-text syntax-highlighted-line",{addition:k,deletion:I}),x[12]=k,x[13]=I,x[14]=c):c=x[14];let S=e.lineChild,E="HUNK"===N.type;x[15]!==E?(f=(0,r.$)("diff-text-inner",{"color-fg-muted":E}),x[15]=E,x[16]=f):f=x[16];let L="CONTEXT"===N.type?"-7px":void 0;return x[17]!==L?(u={marginLeft:L},x[17]=L,x[18]=u):u=x[18],x[19]!==C||x[20]!==f||x[21]!==u?(h=(0,l.jsx)(o.mo,{className:f,html:C,style:u}),x[19]=C,x[20]=f,x[21]=u,x[22]=h):h=x[22],x[23]!==_||x[24]!==e.lineChild||x[25]!==h||x[26]!==c?(m=(0,l.jsxs)("code",{"data-code-marker":T,className:c,children:[S,h]}),x[23]=_,x[24]=e.lineChild,x[25]=h,x[26]=c,x[27]=m):m=x[27],x[28]!==j||x[29]!==m||x[30]!==t||x[31]!==i||x[32]!==d?(p=(0,l.jsx)("td",{className:t,colSpan:j,id:i,style:d,children:m}),x[28]=j,x[29]=m,x[30]=t,x[31]=i,x[32]=d,x[33]=p):p=x[33],p};try{s.displayName||(s.displayName="DiffText")}catch{}let d=e=>{let t,i,o,s,d,c,f,u,h,m,p,x,y;let g=(0,n.c)(30);g[0]!==e?({ariaLabel:t,children:i,hasExpanderButton:s,lineType:f,colSpan:o,interactiveProps:d,isHighlighted:c,...u}=e,g[0]=e,g[1]=t,g[2]=i,g[3]=o,g[4]=s,g[5]=d,g[6]=c,g[7]=f,g[8]=u):(t=g[1],i=g[2],o=g[3],s=g[4],d=g[5],c=g[6],f=g[7],u=g[8]),g[9]!==i?(h=(0,l.jsx)("code",{className:"pr-2",children:i}),g[9]=i,g[10]=h):h=g[10];let b=h;if(d){let e;g[11]!==t||g[12]!==d||g[13]!==b?(e=(0,l.jsx)("button",{className:"diff-line-number-button",...d,"aria-label":t,children:b}),g[11]=t,g[12]=d,g[13]=b,g[14]=e):e=g[14],b=e}let j=d?void 0:t,N=!!d;g[15]!==s||g[16]!==N?(m=(0,r.$)("diff-line-number",{"has-expander":s,clickable:N}),g[15]=s,g[16]=N,g[17]=m):m=g[17];let v=o||1;return g[18]!==c||g[19]!==f?(p=(0,a.gK)(f,!0,c),g[18]=c,g[19]=f,g[20]=p):p=g[20],g[21]!==p?(x={backgroundColor:p},g[21]=p,g[22]=x):x=g[22],g[23]!==u||g[24]!==j||g[25]!==m||g[26]!==v||g[27]!==x||g[28]!==b?(y=(0,l.jsx)("td",{"aria-label":j,"data-line-number":!0,className:m,colSpan:v,style:x,...u,children:b}),g[23]=u,g[24]=j,g[25]=m,g[26]=v,g[27]=x,g[28]=b,g[29]=y):y=g[29],y};try{d.displayName||(d.displayName="LineNumber")}catch{}let c=e=>{let t,i,r,o;let a=(0,n.c)(28),{dragging:c,isHighlighted:f,isLeftColumn:u,isSplit:h,lineAnchor:m,line:p,lineChild:x,onLineNumberClick:y}=e,g="CONTEXT"===p.type||"INJECTED_CONTEXT"===p.type,b="ADDITION"!==p.type,j=b||!h,N="DELETION"!==p.type,v=N&&!g||!h,C=h&&g?u?p.left:p.right:p.left;return a[0]!==C||a[1]!==f||a[2]!==p.left||a[3]!==p.right||a[4]!==p.type||a[5]!==y||a[6]!==b||a[7]!==j?(t=j&&(0,l.jsx)(d,{ariaLabel:`Line ${b?p.left?.toString():p.right?.toString()}`,lineType:p.type,interactiveProps:y?{onClick:y}:null,isHighlighted:f,children:b&&C}),a[0]=C,a[1]=f,a[2]=p.left,a[3]=p.right,a[4]=p.type,a[5]=y,a[6]=b,a[7]=j,a[8]=t):t=a[8],a[9]!==f||a[10]!==p.left||a[11]!==p.right||a[12]!==p.type||a[13]!==y||a[14]!==N||a[15]!==v?(i=v&&(0,l.jsx)(d,{ariaLabel:`Line ${N?p.right?.toString():p.left?.toString()}`,lineType:p.type,interactiveProps:y?{onClick:y}:null,isHighlighted:f,children:N&&p.right}),a[9]=f,a[10]=p.left,a[11]=p.right,a[12]=p.type,a[13]=y,a[14]=N,a[15]=v,a[16]=i):i=a[16],a[17]!==c||a[18]!==f||a[19]!==u||a[20]!==p||a[21]!==m||a[22]!==x?(r=(0,l.jsx)(s,{dragging:c,isHighlighted:f,isLeftColumn:u,line:p,lineAnchor:m,lineChild:x}),a[17]=c,a[18]=f,a[19]=u,a[20]=p,a[21]=m,a[22]=x,a[23]=r):r=a[23],a[24]!==t||a[25]!==i||a[26]!==r?(o=(0,l.jsxs)(l.Fragment,{children:[t,i,r]}),a[24]=t,a[25]=i,a[26]=r,a[27]=o):o=a[27],o};try{c.displayName||(c.displayName="DiffLinePart")}catch{}var f=i(75177);function u(){let e,t,i;let r=(0,n.c)(3);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e={bottom:"0 !important",clip:"rect(1px, 1px, 1px, 1px)",clipPath:"inset(50%)",height:"84px",position:"absolute",width:"320px"},r[0]=e):e=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsxs)("clipPath",{id:"diff-placeholder",children:[(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"67.0175439",x:"0",y:"0"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"100.701754",x:"18.9473684",y:"47.7194983"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"37.8947368",x:"0",y:"71.930126"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"53.3333333",x:"127.017544",y:"48.0703769"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"72.9824561",x:"187.719298",y:"48.0703769"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"76.8421053",y:"0"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"17.8947368",y:"23.8597491"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"173.684211",x:"166.315789",y:"23.8597491"})]}),r[1]=t):t=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(f.A,{"aria-hidden":"true",as:"svg",version:"1.1",viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",sx:e,children:(0,l.jsxs)("defs",{children:[t,(0,l.jsxs)("linearGradient",{id:"animated-diff-gradient",spreadMethod:"reflect",x1:"0",x2:"0",y1:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"0",stopColor:"#eee"}),(0,l.jsx)("stop",{offset:"0.2",stopColor:"#eee"}),(0,l.jsx)("stop",{offset:"0.5",stopColor:"#ddd"}),(0,l.jsx)("stop",{offset:"0.8",stopColor:"#eee"}),(0,l.jsx)("stop",{offset:"1",stopColor:"#eee"}),(0,l.jsx)("animateTransform",{attributeName:"y1",dur:"1s",repeatCount:"3",values:"0%; 100%; 0"}),(0,l.jsx)("animateTransform",{attributeName:"y2",dur:"1s",repeatCount:"3",values:"100%; 200%; 0"})]})]})}),r[2]=i):i=r[2],i}try{u.displayName||(u.displayName="DiffPlaceholder")}catch{}var h=i(20174);i(69710);var m=i(38621);function p(e){let t,i,r;let o=(0,n.c)(10),{currentLine:a,hunkButton:c,isLeftColumn:f,isSplit:u}=e;if(u&&!f)return null;o[0]!==a.type||o[1]!==c||o[2]!==u?(t=c?(0,l.jsx)(d,{colSpan:u?1:2,hasExpanderButton:!0,lineType:a.type,children:c}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d,{lineType:a.type,children:(0,l.jsx)(m.KebabHorizontalIcon,{})}),!u&&(0,l.jsx)(d,{lineType:a.type,children:(0,l.jsx)(m.KebabHorizontalIcon,{})})]}),o[0]=a.type,o[1]=c,o[2]=u,o[3]=t):t=o[3];let h=u?3:void 0;return o[4]!==a||o[5]!==h?(i=(0,l.jsx)(s,{isHighlighted:!1,isLeftColumn:!0,colSpan:h,line:a}),o[4]=a,o[5]=h,o[6]=i):i=o[6],o[7]!==t||o[8]!==i?(r=(0,l.jsxs)(l.Fragment,{children:[t,i]}),o[7]=t,o[8]=i,o[9]=r):r=o[9],r}try{p.displayName||(p.displayName="HunkHeaderDiffLine")}catch{}function x(){let e;let t=(0,n.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)("div",{className:"hunk-kebab-icon pr-2 pb-1",children:(0,l.jsx)(m.KebabHorizontalIcon,{})}),t[0]=e):e=t[0],e}try{x.displayName||(x.displayName="HunkKebabIcon")}catch{}function y(e){let t,i,o;let a=(0,n.c)(5),{isLeftColumn:s}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)(d,{lineType:"EMPTY"}),a[0]=t):t=a[0],a[1]!==s?(i=(0,r.$)("empty-diff-line",{"border-right":s}),a[1]=s,a[2]=i):i=a[2],a[3]!==i?(o=(0,l.jsxs)(l.Fragment,{children:[t,(0,l.jsx)("td",{className:i,colSpan:1})]}),a[3]=i,a[4]=o):o=a[4],o}try{y.displayName||(y.displayName="EmptyDiffLine")}catch{}function g(e){let t,i,r,o,a,s,d,c;let f=(0,n.c)(15);return f[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)("thead",{className:"sr-only",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",children:"Original file line number"}),(0,l.jsx)("th",{scope:"col",children:"Original file line"}),(0,l.jsx)("th",{scope:"col",children:"Diff line number"}),(0,l.jsx)("th",{scope:"col",children:"Diff line change"})]})}),f[0]=t):t=f[0],f[1]!==e.lineWidth?(i=(0,l.jsx)("col",{width:e.lineWidth}),f[1]=e.lineWidth,f[2]=i):i=f[2],f[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,l.jsx)("col",{}),f[3]=r):r=f[3],f[4]!==e.lineWidth?(o=(0,l.jsx)("col",{width:e.lineWidth}),f[4]=e.lineWidth,f[5]=o):o=f[5],f[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)("col",{}),f[6]=a):a=f[6],f[7]!==i||f[8]!==o?(s=(0,l.jsxs)("colgroup",{children:[i,r,o,a]}),f[7]=i,f[8]=o,f[9]=s):s=f[9],f[10]!==e.children?(d=(0,l.jsx)("tbody",{children:e.children}),f[10]=e.children,f[11]=d):d=f[11],f[12]!==s||f[13]!==d?(c=(0,l.jsxs)(l.Fragment,{children:[t,s,d]}),f[12]=s,f[13]=d,f[14]=c):c=f[14],c}try{g.displayName||(g.displayName="SplitDiffTable")}catch{}function b(e){let t,i,r,o,a,s,d;let c=(0,n.c)(13);return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)("thead",{className:"sr-only",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",children:"Original file line number"}),(0,l.jsx)("th",{scope:"col",children:"Diff line number"}),(0,l.jsx)("th",{scope:"col",children:"Diff line change"})]})}),c[0]=t):t=c[0],c[1]!==e.lineWidth?(i=(0,l.jsx)("col",{width:e.lineWidth}),r=(0,l.jsx)("col",{width:e.lineWidth}),c[1]=e.lineWidth,c[2]=i,c[3]=r):(i=c[2],r=c[3]),c[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("col",{width:"100%"}),c[4]=o):o=c[4],c[5]!==i||c[6]!==r?(a=(0,l.jsxs)("colgroup",{children:[i,r,o]}),c[5]=i,c[6]=r,c[7]=a):a=c[7],c[8]!==e.children?(s=(0,l.jsx)("tbody",{children:e.children}),c[8]=e.children,c[9]=s):s=c[9],c[10]!==a||c[11]!==s?(d=(0,l.jsxs)(l.Fragment,{children:[t,a,s]}),c[10]=a,c[11]=s,c[12]=d):d=c[12],d}try{b.displayName||(b.displayName="UnifiedDiffTable")}catch{}let j={diffTextCell:"UnifiedDiffLines-module__diffTextCell--UAuIr",diffHunkCell:"UnifiedDiffLines-module__diffHunkCell--qPkzg",diffHunkText:"UnifiedDiffLines-module__diffHunkText--Sfwuu",diffTextInner:"UnifiedDiffLines-module__diffTextInner--IuEAA",diffTextMarker:"UnifiedDiffLines-module__diffTextMarker--MdAo4",syntaxHighlightedAdditionLine:"UnifiedDiffLines-module__syntaxHighlightedAdditionLine--lU_S2",syntaxHighlightedDeletionLine:"UnifiedDiffLines-module__syntaxHighlightedDeletionLine--xgQwN",diffLineNumber:"UnifiedDiffLines-module__diffLineNumber--bzzxf"};function N(e){let t,i,r,o;let s=(0,n.c)(9),{line:d,children:c}=e;return s[0]!==d.type?(t=(0,a.gK)(d.type,!0),s[0]=d.type,s[1]=t):t=s[1],s[2]!==t?(i={backgroundColor:t,textAlign:"center"},s[2]=t,s[3]=i):i=s[3],s[4]!==c?(r=(0,l.jsx)("code",{children:c}),s[4]=c,s[5]=r):r=s[5],s[6]!==i||s[7]!==r?(o=(0,l.jsx)("td",{className:j.diffLineNumber,style:i,children:r}),s[6]=i,s[7]=r,s[8]=o):o=s[8],o}function v(e){let t,i,a;let s=(0,n.c)(4),{line:d}=e;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)(x,{}),s[0]=t):t=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.$)(j.diffTextInner,"color-fg-muted"),s[1]=i):i=s[1];let c=d.html;return s[2]!==c?(a=(0,l.jsx)("td",{colSpan:4,className:j.diffHunkCell,valign:"top",children:(0,l.jsxs)("div",{className:"d-flex flex-row",children:[t,(0,l.jsx)("code",{className:j.diffHunkText,children:(0,l.jsx)(o.mo,{className:i,html:c})})]})}),s[2]=c,s[3]=a):a=s[3],a}function C(e){let t,i,s;let d=(0,n.c)(13),{line:c}=e,f="HUNK"===c.type,u="ADDITION"!==c.type,h="DELETION"!==c.type,m="ADDITION"===c.type?"+":"DELETION"===c.type?"-":void 0,p=!!m;return d[0]!==f||d[1]!==c?(t=f&&(0,l.jsx)(v,{line:c}),d[0]=f,d[1]=c,d[2]=t):t=d[2],d[3]!==f||d[4]!==c||d[5]!==m||d[6]!==u||d[7]!==p||d[8]!==h?(i=!f&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N,{line:c,children:u&&c.left}),(0,l.jsx)(N,{line:c,children:h&&c.right}),(0,l.jsx)("td",{className:j.diffTextCell,style:{backgroundColor:(0,a.gK)(c.type,!1)},children:(0,l.jsxs)("code",{className:(0,r.$)("ADDITION"===c.type&&j.syntaxHighlightedAdditionLine,"DELETION"===c.type&&j.syntaxHighlightedDeletionLine),children:[p&&(0,l.jsx)("span",{className:j.diffTextMarker,children:m}),(0,l.jsx)(o.mo,{className:j.diffTextInner,html:c.html,style:{backgroundColor:(0,a.gK)(c.type,!1)}})]})})]}),d[3]=f,d[4]=c,d[5]=m,d[6]=u,d[7]=p,d[8]=h,d[9]=i):i=d[9],d[10]!==t||d[11]!==i?(s=(0,l.jsxs)("tr",{children:[t,i]}),d[10]=t,d[11]=i,d[12]=s):s=d[12],s}function _(e){let t,i,r,o;let a=(0,n.c)(14),{sx:s,lines:d,lineWidth:c,tabSize:u}=e;if(a[0]!==d||a[1]!==u){let e;a[3]!==u?(e=(e,t)=>(0,l.jsx)(C,{line:e,tabSize:u},t),a[3]=u,a[4]=e):e=a[4],t=d.map(e),a[0]=d,a[1]=u,a[2]=t}else t=a[2];let h=t;return a[5]!==s?(i={borderTop:0,borderBottom:0,borderLeft:1,borderRight:1,borderStyle:"solid",borderColor:"border.muted",...s},a[5]=s,a[6]=i):i=a[6],a[7]!==h||a[8]!==c?(r=(0,l.jsx)(b,{lineWidth:c,children:h}),a[7]=h,a[8]=c,a[9]=r):r=a[9],a[10]!==i||a[11]!==r||a[12]!==u?(o=(0,l.jsx)(f.A,{as:"table",className:"tab-size","data-tab-size":u,sx:i,children:r}),a[10]=i,a[11]=r,a[12]=u,a[13]=o):o=a[13],o}try{N.displayName||(N.displayName="LineNumberCell")}catch{}try{v.displayName||(v.displayName="HunkCell")}catch{}try{C.displayName||(C.displayName="UnifiedDiffRow")}catch{}try{_.displayName||(_.displayName="UnifiedDiffLines")}catch{}function w(e){return"LEFT"===e?"-":"RIGHT"===e?"+":""}function D({startDiffSide:e,endDiffSide:t,originalStartLine:i,originalEndLine:l}){return e&&t&&"number"==typeof i&&"number"==typeof l?0===i&&1===l&&e===t?"-1 to +1":e===t&&i===l?`${w(e)}${i}`:`${w(e)}${i} to ${w(t)}${l}`:""}},69252:(e,t,i)=>{i.d(t,{U:()=>r});let l=e=>{let t=getComputedStyle(e,null);return["overflow","overflow-y","overflow-x"].some(e=>{let i=t.getPropertyValue(e);return"auto"===i||"scroll"===i})},n=(e,t)=>e&&null!==e.parentNode?n(e.parentNode,t.concat([e])):t;function r(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(let t of n(e.parentNode,[]))if((t instanceof HTMLElement||t instanceof SVGElement)&&l(t))return t;return document.scrollingElement||document.documentElement}}},28448:(e,t,i)=>{i.d(t,{Z:()=>n});var l=i(96540);function n({focusRowRef:e,mouseRowRef:t}){let[i,n]=l.useState(!1);return l.useEffect(()=>{if(e.current&&t.current){let i=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&n(!0)};e.current.onfocus=()=>{i()},e.current.onblur=()=>{n(!1)},t.current.onmouseenter=()=>{i()},t.current.onmouseleave=()=>{n(!1)}}},[e,t]),i}},20174:(e,t,i)=>{i.d(t,{u:()=>a});var l=i(74848),n=i(21728),r=i(34164);let o={diffSquare:"DiffSquares-module__diffSquare--h5kjy",addition:"DiffSquares-module__addition--jeNtt",deletion:"DiffSquares-module__deletion--hKV3q",neutral:"DiffSquares-module__neutral--VlyoP"};function a(e){let t,i;let r=(0,n.c)(4),{squares:o}=e;return r[0]!==o?(t=o.map(s),r[0]=o,r[1]=t):t=r[1],r[2]!==t?(i=(0,l.jsx)("div",{className:"d-flex",children:t}),r[2]=t,r[3]=i):i=r[3],i}function s(e,t){return(0,l.jsx)("div",{"data-testid":`${e} diffstat`,className:(0,r.$)(o.diffSquare,o[e])},t)}try{a.displayName||(a.displayName="DiffSquares")}catch{}},69710:(e,t,i)=>{i.d(t,{z:()=>s});var l=i(74848),n=i(21728),r=i(94977),o=i(20174);let a={addition:"addition",deletion:"deletion",neutral:"neutral"};function s(e){let t,i,s,d,c,f,u;let h=(0,n.c)(22),{linesAdded:m,linesDeleted:p,linesChanged:x,tooltipDirection:y}=e,g=void 0===m?0:m,b=void 0===p?0:p,j=void 0===x?0:x;if(!g&&!b&&!j||0===j)return null;if(h[0]!==g||h[1]!==j||h[2]!==b){let{greenSquares:e,redSquares:i,graySquares:l}=function(e,t,i){let l=i>5?5/i:1,n=Math.floor(e*l),r=Math.floor(t*l);return{greenSquares:n,redSquares:r,graySquares:5-n-r}}(g,b,j);t=[...Array(e).fill(a.addition),...Array(i).fill(a.deletion),...Array(l).fill(a.neutral)],h[0]=g,h[1]=j,h[2]=b,h[3]=t}else t=h[3];let N=t;h[4]!==g?(i=g>0&&(0,l.jsxs)("span",{className:"f6 text-bold fgColor-success",children:["+",g.toLocaleString()]}),h[4]=g,h[5]=i):i=h[5],h[6]!==b?(s=b>0&&(0,l.jsxs)("span",{className:"f6 text-bold fgColor-danger",children:["-",b.toLocaleString()]}),h[6]=b,h[7]=s):s=h[7],h[8]!==g||h[9]!==j||h[10]!==b?(d=function({linesAdded:e,linesChanged:t,linesDeleted:i}){return`${t} ${1===t?"change":"changes"}: ${e} ${1===e?"addition":"additions"} & ${i} ${1===i?"deletion":"deletions"}`}({linesAdded:g,linesChanged:j,linesDeleted:b}),h[8]=g,h[9]=j,h[10]=b,h[11]=d):d=h[11];let v=y??"e";return h[12]!==N?(c=(0,l.jsx)(o.u,{squares:N}),h[12]=N,h[13]=c):c=h[13],h[14]!==d||h[15]!==v||h[16]!==c?(f=(0,l.jsx)(r.A,{"aria-label":d,direction:v,children:c}),h[14]=d,h[15]=v,h[16]=c,h[17]=f):f=h[17],h[18]!==f||h[19]!==i||h[20]!==s?(u=(0,l.jsxs)("div",{className:"d-flex flex-items-center gap-1 pl-1",children:[i,s,f]}),h[18]=f,h[19]=i,h[20]=s,h[21]=u):u=h[21],u}try{s.displayName||(s.displayName="DiffStats")}catch{}},78026:(e,t,i)=>{i.d(t,{L:()=>d});var l=i(74848),n=i(21728),r=i(38621),o=i(87330),a=i(94977),s=i(34164);let d=i(96540).forwardRef((e,t)=>{let i,d,c,f;let u=(0,n.c)(21),{expanded:h,testid:m,ariaLabel:p,ariaControls:x,onToggleExpanded:y,alignment:g,dataHotkey:b,className:j,size:N,tooltipDirection:v,variant:C}=e,_=`expand-button-${m}`,w=h?`collapse-${m}`:`expand-${m}`,D=`expand-button-${m}`,T=h?"left"===g?r.SidebarExpandIcon:r.SidebarCollapseIcon:"left"===g?r.SidebarCollapseIcon:r.SidebarExpandIcon;u[0]!==y?(i=e=>{y(e)},u[0]=y,u[1]=i):i=u[1];let k=C??"invisible";return u[2]!==j?(d=(0,s.$)(j,"fgColor-muted"),u[2]=j,u[3]=d):d=u[3],u[4]!==x||u[5]!==b||u[6]!==h||u[7]!==t||u[8]!==N||u[9]!==w||u[10]!==D||u[11]!==T||u[12]!==i||u[13]!==k||u[14]!==d?(c=(0,l.jsx)(o.K,{unsafeDisableTooltip:!0,ref:t,"data-testid":w,"aria-labelledby":D,"aria-expanded":h,"aria-controls":x,icon:T,"data-hotkey":b,onClick:i,variant:k,size:N,className:d,"data-analytics-opt-out":!0}),u[4]=x,u[5]=b,u[6]=h,u[7]=t,u[8]=N,u[9]=w,u[10]=D,u[11]=T,u[12]=i,u[13]=k,u[14]=d,u[15]=c):c=u[15],u[16]!==p||u[17]!==_||u[18]!==c||u[19]!==v?(f=(0,l.jsx)(a.A,{"aria-label":p,id:_,direction:v,children:c}),u[16]=p,u[17]=_,u[18]=c,u[19]=v,u[20]=f):f=u[20],f});d.displayName="ExpandButton"},57616:(e,t,i)=>{i.d(t,{Y:()=>h});var l=i(74848),n=i(59299),r=i(44999),o=i(16255),a=i(34164),s=i(96540);let d=i(38267).Ay.span.withConfig({displayName:"ControlledTooltip__TooltipBase",componentId:"sc-b39269ff-0"})(["&::after{position:absolute;z-index:1000000;display:none;padding:0.5em 0.75em;font:normal normal 11px/1.5 ",";-webkit-font-smoothing:subpixel-antialiased;color:",";text-align:center;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-wrap:break-word;white-space:pre;pointer-events:none;content:attr(data-visible-text);background:",";border-radius:",";opacity:0;}@keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}&.tooltipped-open,&:hover,&:active,&:focus{&::after{display:inline-block;text-decoration:none;animation-name:tooltip-appear;animation-duration:0.1s;animation-fill-mode:forwards;animation-timing-function:ease-in;animation-delay:0s;}}&.tooltipped-no-delay.tooltipped-open,&.tooltipped-no-delay:hover,&.tooltipped-no-delay:active,&.tooltipped-no-delay:focus{&::after{animation-delay:0s;}}&.tooltipped-s,&.tooltipped-se,&.tooltipped-sw{&::after{top:100%;right:50%;margin-top:6px;}}&.tooltipped-se{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-sw::after{margin-right:-",";}&.tooltipped-n,&.tooltipped-ne,&.tooltipped-nw{&::after{right:50%;bottom:100%;margin-bottom:6px;}}&.tooltipped-ne{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-nw::after{margin-right:-",";}&.tooltipped-s::after,&.tooltipped-n::after{transform:translateX(50%);}&.tooltipped-w{&::after{right:100%;bottom:50%;margin-right:6px;transform:translateY(50%);}}&.tooltipped-e{&::after{bottom:50%;left:100%;margin-left:6px;transform:translateY(50%);}}&.tooltipped-align-right-2::after{right:0;margin-right:0;}&.tooltipped-align-left-2::after{left:0;margin-left:0;}",";"],(0,n.Jt)("fonts.normal"),(0,n.Jt)("colors.fg.onEmphasis"),(0,n.Jt)("colors.neutral.emphasisPlus"),(0,n.Jt)("radii.2"),(0,n.Jt)("space.3"),(0,n.Jt)("space.3"),(0,n.Jt)("space.3"),(0,n.Jt)("space.3"),r.A),c=()=>()=>void 0,f=()=>!1,u=()=>!0,h=(0,s.forwardRef)(function({direction:e="n",className:t,text:i,noDelay:n,align:r,wrap:h,open:m=!1,portalProps:p={},...x},y){let g=(0,s.useSyncExternalStore)(c,u,f),b=(0,a.$)(t,`tooltipped-${e}`,r&&`tooltipped-align-${r}-2`,n&&"tooltipped-no-delay",h&&"tooltipped-multiline",m&&"tooltipped-open");return g?(0,l.jsx)(o.Z,{...p,children:(0,l.jsx)(d,{ref:y,role:"tooltip","aria-label":i,"data-visible-text":i||x["aria-label"],...x,sx:{position:"fixed",zIndex:1,...x.sx},className:b})}):null});try{h.displayName||(h.displayName="ControlledTooltip")}catch{}},7284:(e,t,i)=>{i.d(t,{m:()=>s});var l=i(74848),n=i(69676),r=i(96540),o=i(57616),a=i(69252);let s=(0,r.forwardRef)(function({contentRef:e,open:t,anchoredPositionAlignment:i,anchorSide:s,anchorOffset:d,alignmentOffset:c,allowOutOfBounds:f,...u},h){let m=(0,r.useRef)(null);(0,r.useImperativeHandle)(h,()=>m.current);let p=(0,r.useRef)({left:0,top:0}),x=(0,r.useSyncExternalStore)((0,r.useCallback)(i=>{if(!m.current||!e.current||!t)return()=>void 0;let l=(0,a.U)(e.current);return l?.addEventListener("scroll",i),()=>{l?.removeEventListener("scroll",i)}},[e,t]),(0,r.useCallback)(()=>{if(!m.current||!e.current)return p.current;let t=(0,n.uG)(m.current,e.current,{align:i??"center",side:s??"outside-top",alignmentOffset:c??0,anchorOffset:d??0,allowOutOfBounds:f});return(t.left!==p.current.left||t.top!==p.current.top)&&(p.current=t),p.current},[e,c,d,i,s,f]),(0,r.useCallback)(()=>p.current,[]));return(0,l.jsx)(o.Y,{...u,ref:m,open:t,style:{position:"absolute",...x,...u.style}})});try{s.displayName||(s.displayName="PortalTooltip")}catch{}}}]);
//# sourceMappingURL=ui_packages_code-view-shared_utilities_web-worker_ts-ui_packages_diff-file-header_diff-file-h-519377-2d95680b435b.js.map